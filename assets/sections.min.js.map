{"version":3,"sources":["webpack://turbo/","webpack://turbo/./source/scripts/sections.js"],"names":["n","v","window","Shopify","theme","navigator","sendBeacon","designMode","sessionStorage","getItem","URLSearchParams","shop_domain","shop","shop_id","Store","id","theme_name","theme_version","theme_store_id","theme_id","theme_role","role","setItem","logoList","init","$","flickity","cellAlign","pageDots","prevNextButtons","contain","groupCells","initialIndex","unload","target","hasClass","featuredCollection","each","index","value","productsPerSlide","data","productsLimit","productsAvailable","draggable","prevNext","wrapAround","loadFeatures","name","version","productMedia","setupMedia","PXUTheme","media_queries","medium","matches","parents","removeClass","lazyLoad","imagesLoaded","usePageDots","freeScroll","arrowShape","arrowSize","addClass","$target","$slider","find","featuredPromotions","hover","this","slideDown","slideUp","$promos","animationStyle","waypoint","element","offset","slideshow","$homepageSlider","settings","slideshowSpeed","slideshowTextAnimation","adaptiveHeight","arrowShow","length","autoPlay","flkty","setTimeout","on","is","currentSlide","selectedIndex","testimonials","$testimonialSlider","theBlock","closest","gallery","wrapper","images","imgWidth","imgHeight","attr","width","height","css","fancybox","baseClass","clickContent","afterShow","fancyImages","image","alt","eq","video","featuredVideos","get","featuredVideoPlayers","Plyr","setup","controls","videoControls","fullscreen","enabled","fallback","iosNative","storage","player","isHTML5","elements","event","instance","detail","plyr","pause","globalVideoPlayers","push","$video","$section","$videoElement","$videoWrapper","$playButton","$secondaryButton","$videoText","$videoTextContainer","$image","$posterImage","aspectRatio","isAutoplay","isLoopingEnabled","isMuted","isYouTube","isVimeo","videoID","playerID","original","large","autoplay","hide","show","play","muted","ratio","loop","code","playing","cart","document","querySelector","handleTos","cartNoteEl","handleNotes","warning","translation","agree_to_terms_warning","before","submit","el","addEventListener","body","JSON","stringify","note","fetch","routes","cart_update_url","method","headers","Accept","selectCallback","variant","selector","$element","evt","createEvent","$product","product","$productForm","variantInventory","initEvent","variantIdField","dispatchEvent","$notifyForm","productTitle","$notifyFormInputs","notifySend","notify_email_send","notifyUrl","notifyFormEmail","notifyFormPlaceholder","title","variantTitle","replace","notifyMessage","notify_message_first","notify_message_last","notify_email","notifyFormHTML","featured_image","_","slider","$sliderInstance","Flickity","undefined","featured_media","select","theme_settings","product_form_style","quick_shop_style","filter","swatchImage","$quickShopElement","forEach","currentVariant","inventory_quantity","inventory_management","inventory_policy","text","sku","options","i","radioButton","escape","checked","available","display_inventory_left","itemsLeftText","one_item_left","items_left_text","inventoryThreshold","parseInt","inventory_threshold","html","limit_quantity","removeAttr","empty","message","sold_out_text","unavailable_text","fadeIn","append","currency","show_multiple_currencies","currencyConverter","convertCurrencies","productPage","loadQuickshop","url","shopifyAsyncview","load","view","$productGallery","enableGallery","location","search","prev","notify_success_text","optionIndex","optionValue","val","parentForm","siblings","notifyForm","option1","option2","option3","trigger","$trigger","first","last","wrap","parent","zoom","touch","magnify","afterClose","$instanceGallery","focus","recipientFormEl","sectionEl","recipientForm","RecipientForm","complementaryProductsEl","sectionId","productId","productRecommendationLimit","parse","textContent","complementaryProductRecommendations","ComplementaryProducts","productRecommendationsRoute","product_recommendations_url","includeIndicatorDots","limit","loadProductRecommendations","runOptionSelector","$defaultSelector","$options","$productDetails","priceUIEl","paymentTerms","PaymentTerms","hover_enabled","quick_shop_enabled","priceUIBadgeEl","surfacePickUpEl","JSONData","isPriceSavingsEnabled","priceUI","priceUIBadge","surfacePickUp","ShopifyPriceUI","PriceUI","PriceUIBadge","ShopifySurfacePickUp","onModalRequest","contents","surfacePickUpModal","fragment","createDocumentFragment","header","createElement","classList","add","innerHTML","appendChild","subtitle","insertBefore","firstChild","open","hash","infobar","toolbar","smallBtn","autoStart","mobile","preventCaptionOverlap","OptionSelectors","onVariantSelected","update","formatter","price","formatMoney","handler","priceUIFragment","_product","compare_at_price","span","savings","percentage","Math","round","savings_text","free_text","display_sold_out_price","soldOutText","priceElement","style","sticker","stickerText","setAttribute","enableHistoryState","$slides","$thumbnailProductGallery","$thumbnails","productLightbox","thumbnailsEnabled","thumbnailsSliderEnabled","thumbnailsPosition","thumbnailsArrows","checkForVideos","slide","$slide","mediaType","iframeID","videoPlayers","media","dataset","plyrVideoId","autoplayVideo","autoplayYoutubeVideo","is_touch_device","imageFunctions","currentPlayer","keyboard","focused","global","isScreenSizeLarge","loopingEnabled","_index","showModelIcon","dragThreshold","watchCSS","$sliderArrows","pId","$selectedSlide","sortedModels","models","model","container","off","currentTarget","keypress","which","outerHeight","navCellHeight","navHeight","scrollY","position","top","scrollTop","animate","asNavFor","thumbnail","$thumbnail","$productRecommendations","$productRecommendationsSection","sectionID","productID","recommendationsURL","sectionEnabled","$recommendedProductSlider","recommendedProductsSlider","requestUrl","ajax","type","success","$recommendedProductsElement","PaymentButton","hideNoScript","videoFeature","setupRecommendedVideoPlayer","quickShop","toggleSwatchImages","collection_secondary_image","showSecondaryImage","loadDynamicProducts","productSwatches","$productForms","productForm","productSection","linkOptionSelectors","swatchElement","$swatchElement","swatchValue","toString","prop","productSlider","$productSlider","lessSlidesThanProducts","limitGreaterThanSlide","evenSlide","initializeQuantityBox","e","$this","$input","valMax","valMin","isNaN","HeaderFader","constructor","openers","Set","fadeClass","contains","shouldFade","updateShouldFade","size","_fade","clear","_clear","fade","requestor","has","delete","remove","NavigationDesktopParent","menuItem","detailsItem","parentMenu","_locked","locked","menuLink","submenuEl","isWideNav","openOnClick","_isOpen","submenu","events","EventHandler","_open","bind","_close","close","closeEsc","key","closeTimer","mouseover","clearTimeout","mouseout","click","stopPropagation","clickedParent","preventDefault","href","focusin","closeSiblings","animation","animations","transition","state","register","forceClose","forceOpen","_setAlternateDrop","menuBounds","getBoundingClientRect","right","documentElement","clientWidth","left","_removeAlternateDrop","force","closeEscEvent","NavigationDesktopMenu","navList","headerFader","animateTo","onStart","then","unregister","removeAttribute","unregisterAll","menuItems","children","_selectedBlock","closeAllMenus","onMeganavSelect","block","meganavParent","onMeganavDeselect","current","NavigationDesktop","navTier1","headerNavMenu","navigationDesktopManager","desktopNavs","nav","initAll","Array","prototype","map","call","querySelectorAll","navEl","MobileMenuDrawer","icon","_toggle","headerSearch","mobileMenuDrawer","mobileSearch","closeMiniCart","toggleClass","openMiniCart","$cart_container","Cookies","set","expires","path","domain","sameSite","secure","anchorLink","headerHeight","stickyNavAnimation","sticky_nav","Headhesive","throttle","classes","clone","stick","unstick","onInit","onStick","maxHeight","setProperty","onUnstick","onDestroy","cart_action","$cartContainer","destroy","Meganav","getTargets","afterChange","content","targetHandle","meganavHandle","targets","handle","newMenuItems","refTarget","_getUrl","menuItemTemplate","inject","_removeInjectedContent","newMenuItem","firstElementChild","cloneNode","_updateHref","newItem","replaceWith","dataHrefEl","a","getAttribute","meganavManager","meganavs","Map","desktop","deselect","meganav","injectAll","_addAll","meganavEl","lazyframe","mapsToLoad","sectionid","address","directions","mapstyle","showpin","apikey","ajaxSetup","cache","getScript","findLocation","mapArray","geoLat","geoLng","google","maps","Geocoder","geocode","results","status","GeocoderStatus","OK","geometry","lat","lng","initMap","console","log","styleJson","elementType","stylers","color","featureType","visibility","mapOptions","center","styles","disableDefaultUI","getElementById","Marker","shoppableImage","blocks","currentImage","$wrapper","slideshowTransition","prevNextBtns","currentShoppableImage","selectedElement","btn","appendTo","hotspot","repositionHotspotContent","repositionHotspotContentEls","interactiveEls","clickedInteractiveEl","hotspotId","debounce","contentWrapperEl","contentEl","transform","bottom","contentBounds","shoppableImageBounds","cssTop","getComputedStyle","getPropertyValue","mobile_and_tablet","callback","timeout","timeoutId","args","apply","accordion","flg","$vanillaAccordion","$faqHeading","next","slideToggle","keyCode","$accordion","ProductCTA","HTMLElement","shortcode","super","attachShadow","mode","forAttr","variants","variantId","appendto","_registerEvent","listener","_onVariantChange","_setVisible","connectedCallback","slot","shadowRoot","disconnectedCallback","removeEventListener","visible","toggleAttribute","customElements","define"],"mappings":"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","file":"sections.min.js","sourcesContent":["(function (n, v) {\n    // eslint-disable-next-line max-len\n    if (window.Shopify && window.Shopify.theme && navigator && navigator.sendBeacon && window.Shopify.designMode) {\n      if (sessionStorage.getItem('oots_beacon')) return;\n\n      navigator.sendBeacon('https://app.outofthesandbox.com/beacon', new URLSearchParams({\n        shop_domain: window.Shopify.shop,\n        shop_id: window.Store.id,\n        theme_name: n,\n        theme_version: v,\n        theme_store_id: window.Shopify.theme.theme_store_id,\n        theme_id: window.Shopify.theme.id,\n        theme_role: window.Shopify.theme.role,\n      }));\n\n      sessionStorage.setItem('oots_beacon', '');\n    }\n  }('turbo','9.3.0'))","/* eslint-disable */\n/* ==================================================\n#Logo list\n#Featured collection\n#Featured promotions\n#Slideshow\n#Testimonials\n#Gallery\n#Video\n#Cart\n#Product\n#Header\n#Map\n#Shoppable Image\n#Global accordions\n#Global shortcodes\n\n/*============================================================================\n  Logo list\n==============================================================================*/\n\nwindow.logoList = {\n  init() {\n    $('[data-logo-slider]').flickity({\n      cellAlign: 'center',\n      pageDots: false,\n      prevNextButtons: true,\n      contain: true,\n      groupCells: true,\n      initialIndex: 0\n    });\n  },\n  unload(target) {\n    if ($(target).hasClass('flickity-enabled')) {\n      $(target).flickity('destroy');\n    }\n  }\n}\n\n/*============================================================================\n  Featured collection\n==============================================================================*/\n\nwindow.featuredCollection = {\n  init() {\n    $('.js-product-slider .products-slider').each((index, value) => {\n      const productsPerSlide = $(value).data('products-per-slide');\n      const productsLimit = $(value).data('products-limit');\n      const productsAvailable = $(value).data('products-available');\n      let cellAlign = '';\n      let draggable = false;\n      let prevNext = false;\n      let wrapAround = false;\n      let initialIndex = 0;\n\n      // Ensure product media libraries are present\n      window.Shopify.loadFeatures([\n        {\n          name: 'shopify-xr',\n          version: '1.0',\n        },\n        {\n          name: 'model-viewer-ui',\n          version: '1.0',\n        },\n      ], window.productMedia.setupMedia);\n\n      if (\n        (\n          productsPerSlide === '2'\n          && productsAvailable > productsPerSlide\n          && productsLimit > productsPerSlide\n        )\n        || (\n          productsPerSlide === '4'\n          && productsAvailable > productsPerSlide\n          && productsLimit > productsPerSlide\n        )\n        || (\n          productsPerSlide === '6'\n          && productsAvailable > productsPerSlide\n          && productsLimit > productsPerSlide\n        )\n      ) {\n        cellAlign = 'left';\n      } else {\n        cellAlign = 'center';\n      }\n\n      if (productsAvailable > productsPerSlide && productsLimit > productsPerSlide) {\n        draggable = true;\n        prevNext = true;\n        wrapAround = true;\n      } else {\n        draggable = false;\n        prevNext = false;\n        wrapAround = false;\n      }\n\n      if (\n        (\n          productsPerSlide === '2'\n          && productsAvailable > productsPerSlide\n        )\n        || (\n          productsPerSlide === '4'\n          && productsAvailable > productsPerSlide\n        )\n        || (\n          productsPerSlide === '6'\n          && productsAvailable > productsPerSlide\n        )\n      ) {\n        initialIndex = 0;\n      } else if (productsPerSlide === '3' && productsAvailable) {\n        initialIndex = 1;\n      } else if (productsPerSlide === '5' && productsAvailable) {\n        initialIndex = 2;\n      } else if (productsPerSlide === '7' && productsAvailable) {\n        initialIndex = 3;\n      }\n\n      if (window.PXUTheme.media_queries.medium.matches) {\n        cellAlign = 'center';\n        draggable = true;\n        prevNext = true;\n        wrapAround = true;\n        initialIndex = 1;\n\n        $(value).parents('.even-num-slides').removeClass('even-num-slides');\n      }\n\n      $(value).flickity({\n        lazyLoad: 2,\n        imagesLoaded: true,\n        draggable,\n        prevNextButtons: prevNext,\n        wrapAround,\n        cellAlign,\n        pageDots: window.usePageDots,\n        contain: true,\n        freeScroll: true,\n        arrowShape: window.arrowSize,\n        initialIndex,\n      });\n\n      $(value).addClass('slider-initialized');\n    });\n  },\n  unload($target) {\n    const $slider = $target.find('.js-product-slider');\n\n    if ($slider.hasClass('flickity-enabled')) {\n      $slider.flickity('destroy');\n    }\n  },\n};\n\n/*============================================================================\n  Featured promotions\n==============================================================================*/\nwindow.featuredPromotions = {\n  init() {\n    $('.feature-overlay').hover(function () {\n      $(this).find('.feature-details').slideDown('100', function () {\n        $(this).addClass('reveal-details');\n      });\n    }, function () {\n      $(this).find('.feature-details').removeClass('reveal-details');\n      $(this).find('.feature-details').slideUp('100');\n    });\n\n    $('.js-featured-promotions').each(function () {\n      const $promos = $(this);\n      const animationStyle = $(this).data('promo-animation');\n\n      $promos.waypoint(function () {\n        $(this.element).find('.feature-section').addClass(`animated ${animationStyle}`);\n      }, { offset: '80%' });\n    });\n  },\n};\n\n/*============================================================================\n  Slideshow\n==============================================================================*/\n\nwindow.slideshow = {\n  init() {\n    $('.js-homepage-slideshow').each(function () {\n      const $homepageSlider = $(this);\n      const settings = {\n        slideshowSpeed: $homepageSlider.data('slideshow-speed') * 1000,\n        slideshowTextAnimation: $homepageSlider.data('slideshow-text-animation'),\n        adaptiveHeight: $homepageSlider.data('adaptive-height'),\n      };\n\n      // Initiate the slideshow\n      if (!$homepageSlider.hasClass('flickity-enabled')) {\n        const arrowShow = $homepageSlider.find('.gallery-cell').length === 1 ? false : true;\n        $homepageSlider.flickity({\n          adaptiveHeight: settings.adaptiveHeight,\n          wrapAround: true,\n          cellAlign: 'left',\n          imagesLoaded: true,\n          prevNextButtons: arrowShow,\n          draggable: arrowShow,\n          autoPlay: settings.slideshowSpeed,\n        });\n\n        if (settings.slideshowTextAnimation !== '') {\n          const flkty = $homepageSlider.data('flickity');\n          setTimeout(() => {\n            $homepageSlider.find('.gallery-cell:nth-child(1) .caption-content').addClass(`animated ${settings.slideshowTextAnimation}`);\n          }, 400);\n\n          $homepageSlider.on('select.flickity', () => {\n            if ($homepageSlider.is(':visible')) {\n              const currentSlide = flkty.selectedIndex + 1;\n              setTimeout(() => {\n                $homepageSlider.find('.caption-content').removeClass(`animated ${settings.slideshowTextAnimation}`);\n                $homepageSlider.find(`.gallery-cell:nth-child(${currentSlide}) .caption-content`).addClass(`animated ${settings.slideshowTextAnimation}`);\n              }, 400);\n            }\n          });\n        }\n      }\n\n      if ($homepageSlider.find('.gallery-cell').length > 1) {\n        $homepageSlider.addClass('multi-image');\n      } else {\n        $homepageSlider.addClass('single-image');\n      }\n    });\n  },\n  unload($target) {\n    const $slider = $target.find('.js-homepage-slideshow');\n    $slider.flickity('destroy');\n  },\n};\n\n/*============================================================================\n  Testimonials\n==============================================================================*/\n\nwindow.testimonials = {\n  init() {\n    $('.js-testimonial').each(function () {\n      const $testimonialSlider = $(this);\n      const settings = {\n        slideshowSpeed: $testimonialSlider.data('slideshow-speed') * 1000,\n        slideshowTextAnimation: $testimonialSlider.data('slideshow-text-animation'),\n        adaptiveHeight: $testimonialSlider.data('adaptive-height'),\n      };\n\n      if ($('.testimonial-image').length > 0) {\n        $('.testimonial-block').each(function () {\n          if ($(this).find('.testimonial-image').length === 0) {\n            const theBlock = $(this).closest('.testimonial-block');\n            $(theBlock).addClass('set-testimonial-height');\n          }\n        });\n      }\n\n      // Initiate the slideshow\n      if (!$testimonialSlider.hasClass('flickity-enabled')) {\n        const arrowShow = $testimonialSlider.find('.gallery-cell').length === 1 ? false : true;\n        $testimonialSlider.flickity({\n          adaptiveHeight: settings.adaptiveHeight,\n          wrapAround: true,\n          cellAlign: 'left',\n          imagesLoaded: true,\n          prevNextButtons: arrowShow,\n          draggable: arrowShow,\n          autoPlay: settings.slideshowSpeed,\n        });\n\n        if (settings.slideshowTextAnimation !== '') {\n          const flkty = $testimonialSlider.data('flickity');\n          setTimeout(() => {\n            $testimonialSlider.find('.gallery-cell:nth-child(1) .caption-content').addClass(`animated ${settings.slideshowTextAnimation}`);\n          }, 400);\n\n          $testimonialSlider.on('select.flickity', () => {\n            if ($testimonialSlider.is(':visible')) {\n              const currentSlide = flkty.selectedIndex + 1;\n              setTimeout(() => {\n                $testimonialSlider.find('.caption-content').removeClass(`animated ${settings.slideshowTextAnimation}`);\n                $testimonialSlider.find(`.gallery-cell:nth-child(${currentSlide}) .caption-content`).addClass(`animated ${settings.slideshowTextAnimation}`);\n              }, 400);\n            }\n          });\n        }\n      }\n\n      if ($testimonialSlider.find('.gallery-cell').length > 1) {\n        $testimonialSlider.addClass('multi-image');\n      } else {\n        $testimonialSlider.addClass('single-image');\n      }\n    });\n  },\n  unload($target) {\n    const $slider = $target.find('.js-testimonial');\n    $slider.flickity('destroy');\n  },\n};\n\n/*============================================================================\n  Gallery\n==============================================================================*/\n\nwindow.gallery = {\n  init() {\n    $('.gallery-horizontal').find('.gallery-image-wrapper').each(function () {\n      const wrapper = $(this);\n      const images = $(this).find('img');\n      let imgWidth;\n      let imgHeight;\n\n      $('<img />').attr('src', $(images).attr('src')).on('load', function () {\n        imgWidth = this.width;\n        imgHeight = this.height;\n\n        $(wrapper).css('flex-basis', imgWidth * 200 / imgHeight);\n        $(wrapper).css('flex-grow', imgWidth * 200 / imgHeight);\n        $(wrapper).find('i').css('padding-bottom', `${imgHeight / imgWidth * 100}%`);\n      });\n    });\n\n    if ($('[rel=gallery]').length) {\n      $('[rel=gallery]').fancybox({\n        baseClass: 'gallery-section__lightbox',\n        clickContent: 'nextOrClose',\n        afterShow() {\n          // Loop through fancybox images, add alt attributes\n          const fancyImages = $('.fancybox-image');\n          $('.gallery__image').each((index, image) => {\n            const $image = $(image);\n            const alt = $image.attr('alt');\n            fancyImages.eq(index).attr('alt', alt);\n          });\n        },\n      });\n    }\n  },\n};\n\n/*============================================================================\n  Video\n==============================================================================*/\nwindow.video = {\n  init() {\n\n    // Set up plyr for newly embedded video\n    var featuredVideos = $('[data-video-element]').get();\n\n    var featuredVideoPlayers = Plyr.setup(featuredVideos, {\n      controls: window.videoControls,\n      fullscreen: {\n        enabled: true,\n        fallback: true,\n        iosNative: true\n      },\n      storage: {\n        enabled: false\n      }\n    });\n\n    // Adds plyr video id to video wrapper\n    $.each(featuredVideoPlayers, function(index, player) {\n      var id = player.id;\n      var $video;\n\n      if (player.isHTML5) {\n        $video = $(player.elements.wrapper).find('video');\n        $video.attr('data-plyr-video-id', id);\n      }\n\n      // When a video is playing, pause any other instances\n      player.on('play', function(event) {\n        var instance = event.detail.plyr;\n        $.each(featuredVideoPlayers, function(index, player) {\n          if (instance.id != player.id) {\n            player.pause();\n          }\n        })\n      })\n\n      // Moves players from video section into global array\n      if (window.globalVideoPlayers) {\n        window.globalVideoPlayers.push(player);\n      }\n    })\n\n    $('[data-video-element]').each(function(index, video) {\n\n      // Variables\n      var $video = $(video);\n      var $section = $video.parents('.shopify-section').attr('id', id);\n      var $videoElement = $section.find($video);\n      var $videoWrapper = $videoElement.parents('.video-wrapper');\n      var $playButton = $videoWrapper.find('[data-play-button]');\n      var $secondaryButton = $videoWrapper.find('[data-secondary-button]');\n      var $videoText = $videoWrapper.find('[data-video-text]');\n      var $videoTextContainer = $videoWrapper.find('[data-video-text-container]');\n      var $image = $videoWrapper.find('.video-wrapper__image');\n      var $posterImage = $videoWrapper.data('poster-image-uploaded');\n      var aspectRatio = $videoWrapper.data('aspect-ratio');\n      var id = $videoWrapper.data('video-src');\n      var isAutoplay = $videoWrapper.data('autoplay');\n      var isLoopingEnabled = $videoWrapper.data('autoloop');\n      var isMuted = $videoWrapper.data('mute-video');\n\n      $.each(featuredVideoPlayers, function(index, player) {\n        var videoID;\n        var playerID;\n\n        if (player.isYouTube || player.isVimeo) {\n          var videoID = $videoWrapper.attr('id');\n          var playerID = $(player.elements.original).attr('id');\n        } else if (player.isHTML5) {\n          var videoID = $videoWrapper.find('[data-plyr-video-id]').data('plyr-video-id');\n          var playerID = player.id;\n          $videoElement = $section.find('.plyr--video');\n        }\n\n        if (playerID == videoID) {\n\n          // Reset play button icon\n          $videoWrapper.removeClass('play-button-icon--visible');\n\n          // Autoplay\n          if (isAutoplay) {\n            // If on desktop or player is YouTube/Vimeo\n            if (window.PXUTheme.media_queries.large.matches || player.isYouTube || player.isVimeo) {\n\n              player.autoplay = true;\n\n              // Hide image\n              $image.hide();\n\n              // Show video\n              $videoElement.show();\n\n              if (\n                $videoTextContainer.hasClass('display-text-over-video--false') &&\n                $videoWrapper.hasClass('caption--below-false') &&\n                !window.PXUTheme.media_queries.large.matches\n              ) {\n                $videoText.hide();\n              } else {\n                $videoText.show();\n              }\n\n              // Keep play button hidden\n              $playButton.hide();\n\n              // HTML5 Mobile Video\n            } else if (window.PXUTheme.media_queries.medium.matches && player.isHTML5) {\n\n              // Hide image\n              $image.hide();\n\n              // Show video\n              $videoElement.show();\n\n              // Display button so that video can be played\n              $playButton.show();\n\n              player.on('play', function() {\n                // Show video\n                $videoElement.show();\n\n                // Hide play button\n                $playButton.hide();\n              })\n            }\n          } else { // If Autoplay disabled\n            // If poster image, show image wrapper otherwise hide it\n            if ($posterImage) {\n              $image.show();\n              $videoElement.hide();\n            } else {\n              $videoElement.show();\n            }\n          }\n\n          // Clicking image will play video\n          $image.on('click', function() {\n            // Hide image\n            $(this).hide();\n\n            // Show video\n            $videoElement.show();\n\n            player.play();\n          })\n\n          // Muted\n          if (isMuted) {\n            player.muted = true;\n          }\n\n          // Aspect Ratio\n          if (aspectRatio) {\n            player.ratio = aspectRatio;\n          }\n\n          // Looping\n          if (isLoopingEnabled) {\n            player.loop = true;\n          }\n\n          // Show Video Controls\n          // - video controls get hidden using a css class: '.video-controls-enabled--false'\n\n          // If button exists, hide text and poster\n          if ($playButton) {\n            $playButton.on('click', function() {\n\n              // Play video\n              player.play();\n            })\n          }\n\n          player.on('statechange', event => {\n            //Check if unstarted when state changed and play if so\n            if(event.detail.code == '-1') {\n              player.play();\n            }\n          });\n\n          player.on('play', function() {\n\n            // Hide image\n            $image.hide();\n\n            // Reset play button icon\n            $videoWrapper.removeClass('play-button-icon--visible');\n\n            // Show video\n            $videoElement.show();\n\n            if (\n              $videoTextContainer.hasClass('display-text-over-video--false') &&\n              $videoWrapper.hasClass('caption--below-false') &&\n              !window.PXUTheme.media_queries.large.matches\n            ) {\n              $videoTextContainer.hide();\n            } else {\n              $videoTextContainer.show();\n            }\n\n            // Hide play button\n            if ($playButton) {\n              $playButton.hide();\n            }\n\n            // Hide secondary button\n            if ($secondaryButton) {\n              $secondaryButton.hide();\n            }\n          })\n\n          // If video is paused, show play button icon\n          player.on('pause', function() {\n            if ($playButton.is(':hidden') || $playButton.length == 0) {\n              $videoWrapper.addClass('play-button-icon--visible');\n            }\n\n            $videoTextContainer.show();\n          })\n\n          // If page loads with video paused and no button showing, show icon\n          if (!player.playing && $playButton.is(':hidden') || $playButton.length == 0) {\n            $videoWrapper.addClass('play-button-icon--visible');\n          }\n\n          return false;\n        }\n      })\n    })\n  },\n};\n\n/*============================================================================\n  Cart\n==============================================================================*/\nwindow.cart = {\n  init() {\n    if (document.querySelector('#cart_form .tos_agree')) {\n      this.handleTos();\n    }\n\n    const cartNoteEl = document.querySelector('#cart_form [data-cart-note]');\n    if (cartNoteEl) this.handleNotes(cartNoteEl);\n  },\n  handleTos() {\n    // Terms of service on cart page\n    $('body').on('click', \"#cart_form input[type='submit']\", function () {\n      if ($(this).parents('form').find('.tos_agree').is(':checked')) {\n        $(this).submit();\n      } else {\n        const warning = `<p class=\"warning animated bounceIn\">${window.PXUTheme.translation.agree_to_terms_warning}</p>`;\n        if ($('p.warning').length === 0) {\n          $(this).before(warning);\n        }\n        return false;\n      }\n    });\n  },\n  handleNotes(el) {\n    el.addEventListener('change', event => {\n      const body = JSON.stringify({ note: event.target.value });\n      const options = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json', Accept: 'application/json' },\n      };\n      fetch(`${window.PXUTheme.routes.cart_update_url}`, { ...options, ...{ body } });\n    });\n  }\n};\n\n/*============================================================================\n  Product\n==============================================================================*/\nwindow.selectCallback = function (variant, selector, $element) {\n  const evt = document.createEvent('HTMLEvents');\n\n  let $product;\n\n  if ($element) {\n    $product = $element.find(`.product-${selector.product.id}`);\n  } else {\n    $product = $(`.product-${selector.product.id}`);\n  }\n\n  const $productForm = $('.product_form, .shopify-product-form', $product);\n  const variantInventory = $productForm.data('variant-inventory');\n\n  // Manually trigger change event so\n  // pure JS listeners can receive it\n  evt.initEvent('change', false, true);\n  selector.variantIdField.dispatchEvent(evt);\n\n  // Notify form\n\n  const $notifyForm = $(`.notify-form-${selector.product.id}`);\n  const productTitle = $notifyForm.data('product-title');\n  const $notifyFormInputs = $('.notify_form__inputs', $product);\n  const notifySend = window.PXUTheme.translation.notify_email_send;\n  const notifyUrl = $notifyFormInputs.data('url');\n\n  // Construct the notify message\n  if (variant) {\n    if (variant.title !== 'Default Title') {\n      // Escape the variant title\n      window.variantTitle = variant.title.replace(/\"/g, '&quot;');\n      window.notifyMessage = window.PXUTheme.translation.notify_message_first + productTitle + ' - ' + window.variantTitle + window.PXUTheme.translation.notify_message_last + notifyUrl;\n    } else {\n      window.notifyMessage = window.PXUTheme.translation.notify_message_first + productTitle + window.PXUTheme.translation.notify_message_last + notifyUrl;\n    }\n  }\n\n  // Prefill the email address if a customer is logged in\n  let notifyFormEmail;\n  let notifyFormPlaceholder;\n\n  if ($notifyForm.hasClass('notify-form--customer')) {\n    notifyFormEmail = $notifyForm.data('customer-email');\n    notifyFormPlaceholder = '';\n  } else {\n    notifyFormEmail = '';\n    notifyFormPlaceholder = window.PXUTheme.translation.notify_email;\n  }\n\n  // Compile HTML\n  window.notifyFormHTML = `\n    <input\n      class=\"notify-email\"\n      id=\"contact[email]\"\n      name=\"contact[email]\"\n      type=\"email\"\n      placeholder=\"${notifyFormPlaceholder}\"\n      value=\"${notifyFormEmail}\"\n      required\n    >\n\n    <input\n      type=\"hidden\"\n      name=\"challenge\"\n      value=\"false\"\n    >\n\n    <input\n      class=\"notify_form_message\"\n      name=\"contact[body]\"\n      type=\"hidden\"\n      data-body=\"${window.notifyMessage}\"\n      value=\"${window.notifyMessage}\"\n    >\n\n    <input\n      class=\"\n        global-button\n        global-button--primary\n      \"\n      type=\"submit\"\n      value=\"${notifySend}\"\n    >\n  `;\n\n  // Image Variant feature\n  if (variant && variant.featured_image && $product.is(':visible')) {\n    const $sliders = $('.js-product-gallery', $product);\n    $sliders.each((_, slider) => {\n      const $slider = $(slider);\n      const $sliderInstance = window.Flickity.data($slider[0]);\n      if ($slider && $sliderInstance !== undefined) {\n        const index = $(`[data-image-id=\"${variant.featured_media.id}\"]`).data('index');\n        $sliderInstance.select(index, false, true);\n      }\n    });\n  }\n\n  // Toggles images in product slider when inline quickshop and layout set to slider\n  if (variant && variant.featured_image && $product.is(':visible')) {\n    if (window.PXUTheme.theme_settings.product_form_style === 'select' && window.PXUTheme.theme_settings.quick_shop_style === 'inline') {\n      const $selectedVariants = $('.products-slider').find('select option:not(.selector-wrapper select option)').filter(':selected');\n      $selectedVariants.each(function toggleImage() {\n        if ($(this).data('featured-image')) {\n          const swatchImage = $(this).data('image');\n          const $quickShopElement = $(this).parents('.thumbnail').find('.image__container img');\n\n          $quickShopElement.attr('src', swatchImage);\n          $quickShopElement.attr('srcset', swatchImage);\n        }\n      });\n    }\n  }\n\n  if (variant) {\n    if (variantInventory) {\n      variantInventory.forEach(v => {\n        if (v.id === variant.id) {\n          const currentVariant = variant;\n          currentVariant.inventory_quantity = v.inventory_quantity;\n          currentVariant.inventory_management = v.inventory_management;\n          currentVariant.inventory_policy = v.inventory_policy;\n        }\n      });\n    }\n\n    $('.sku span', $product).text(variant.sku);\n\n    if (window.PXUTheme.theme_settings.product_form_style === 'radio') {\n      const { length } = variant.options;\n      for (let i = 0; i < length; i++) {\n        const radioButton = $productForm.find(`.swatch[data-option-index=\"${escape(i)}\"] :radio[value=\"${variant.options[i].replace(/\"/g, '\\\\\"')}\"]`);\n        if (radioButton.length) {\n          radioButton.get(0).checked = true;\n        }\n      }\n    } else {\n      $('.notify_form_message', $product).attr('value', `${$('.notify_form_message', $product).data('body')} - ${window.variantTitle}`);\n    }\n  }\n\n  if (variant && variant.available === true) {\n    if (variant.inventory_management && variant.inventory_quantity > 0) {\n      if (window.PXUTheme.theme_settings.display_inventory_left) {\n        if (variant.inventory_quantity === 1) {\n          window.itemsLeftText = window.PXUTheme.translation.one_item_left;\n        } else {\n          window.itemsLeftText = window.PXUTheme.translation.items_left_text;\n        }\n\n        const inventoryThreshold = parseInt(window.PXUTheme.theme_settings.inventory_threshold, 10);\n        if (variant.inventory_quantity <= inventoryThreshold) {\n          $('.items_left', $product).html(`${variant.inventory_quantity} ${window.itemsLeftText}`);\n        } else {\n          $('.items_left', $product).html('');\n        }\n      }\n      if (window.PXUTheme.theme_settings.limit_quantity) {\n        if (variant.inventory_policy === 'deny') {\n          $('.quantity', $product).attr('max', variant.inventory_quantity);\n        }\n      }\n    } else {\n      $('.items_left', $product).text('');\n      $('.quantity', $product).removeAttr('max');\n    }\n\n    $('.sold_out', $product).text('');\n    $('.add_to_cart', $product).removeClass('disabled').removeAttr('disabled').find('span')\n      .text($('.add_to_cart', $product).data('label'));\n    $('.shopify-payment-button', $product).removeClass('disabled');\n    $('.purchase-details__buttons', $product).removeClass('product-is-unavailable');\n    $('.modal_price', $product).removeClass('variant-unavailable');\n    $product.find($notifyForm).hide();\n    $product.find($notifyFormInputs).empty();\n  } else {\n    // When product is sold out\n    const message = variant ? window.PXUTheme.translation.sold_out_text : window.PXUTheme.translation.unavailable_text;\n\n    if (variant) {\n      $('.modal_price', $product).removeClass('variant-unavailable');\n    } else {\n      // Add class to quickshop so we know variant is unavailable\n      $('.modal_price', $product).addClass('variant-unavailable');\n    }\n\n    $('.items_left', $product).text('');\n    $('.quantity', $product).removeAttr('max');\n    $('.sold_out', $product).text(message);\n    $('.purchase-details__buttons', $product).addClass('product-is-unavailable');\n    $('.add_to_cart', $product).addClass('disabled').attr('disabled', 'disabled').find('span')\n      .text(message);\n    $('.shopify-payment-button', $product).addClass('disabled');\n    $notifyForm.hide();\n    $notifyFormInputs.empty();\n\n    if (variant && !variant.available) {\n      $notifyForm.fadeIn();\n      $notifyFormInputs.empty();\n      $notifyFormInputs.append(window.notifyFormHTML);\n    }\n  }\n\n  if (window.PXUTheme.currency.show_multiple_currencies) {\n    window.currencyConverter.convertCurrencies();\n  }\n};\n\nwindow.productPage = {\n  loadQuickshop(url) {\n    return window.shopifyAsyncview.load(\n      url, // Template name\n      { view: 'quickshop' }, // View name (suffix)\n    );\n  },\n  init() {\n    window.Shopify.loadFeatures([\n      {\n        name: 'shopify-xr',\n        version: '1.0',\n      },\n      {\n        name: 'model-viewer-ui',\n        version: '1.0',\n      },\n    ], window.productMedia.setupMedia);\n\n    // Call enable gallery function for product galleries\n    $('[data-product-gallery]:not(.product-recommendations [data-product-gallery])').each(function () {\n      const $productGallery = $(this);\n      window.productPage.enableGallery($productGallery);\n    });\n\n    if (window.location.search === '?contact_posted=true') {\n      $('.notify-form .contact-form').hide();\n      $('.notify-form .contact-form').prev('.message').html(window.PXUTheme.translation.notify_success_text);\n    }\n\n    if (window.PXUTheme.theme_settings.product_form_style === 'radio') {\n      $('body').on('change', '.swatch :radio', function swatchLogic() {\n        const optionIndex = $(this).closest('.swatch').attr('data-option-index');\n        const optionValue = $(this).val();\n        const parentForm = $(this).closest('.product_form form');\n        let notifyForm;\n\n        if (parentForm.siblings('.notify-form').length) {\n          window.notifyForm = parentForm.siblings('.notify-form');\n        } else {\n          window.notifyForm = $('.js-notify-form');\n        }\n\n        const option1 = parentForm.find('.swatch_options input:checked').eq(0).val();\n        const option2 = parentForm.find('.swatch_options input:checked').eq(1).val() || '';\n        const option3 = parentForm.find('.swatch_options input:checked').eq(2).val() || '';\n        let notifyMessage;\n\n        if (option1 && option2 && option3) {\n          window.notifyMessage = `${option1} / ${option2} / ${option3}`;\n        } else if (option1 && option2) {\n          window.notifyMessage = `${option1} / ${option2}`;\n        } else {\n          window.notifyMessage = option1;\n        }\n\n        window.notifyForm.find('.notify_form_message').attr('value', `${window.notifyForm.find('.notify_form_message').data('body')} - ${window.notifyMessage}`);\n\n        $(this)\n          .closest('form')\n          .find('.single-option-selector')\n          .eq(optionIndex)\n          .val(optionValue)\n          .trigger('change');\n      });\n    }\n\n    $('.js-product-gallery a').fancybox({\n      width: 800,\n      height: 800,\n      baseClass: 'product-section__lightbox',\n      clickContent: false,\n      afterShow(instance) {\n        // Loop through fancybox images, add alt attributes\n        const fancyImages = $('.fancybox-image');\n        $('.product-gallery__image').each((index, image) => {\n          const $image = $(image);\n          const alt = $image.attr('alt');\n          fancyImages.eq(index).attr('alt', alt);\n        });\n\n        const zoom = instance.$trigger.first().parents('.js-product-gallery').data('zoom');\n        if (zoom) {\n          $('.fancybox-image').last()\n            .wrap('<span class=\"zoom-wrap\" style=\"display:inline-block\"></span>')\n            .css('display', 'block')\n            .parent()\n            .zoom({\n              touch: false,\n              magnify: 1,\n            });\n        }\n      },\n      afterClose(instance) {\n        const $instanceGallery = instance.$trigger.first().parents('.js-product-gallery');\n        $instanceGallery.hide();\n        setTimeout(() => {\n          $instanceGallery.fadeIn(100);\n          $('.js-product-gallery').find('.is-selected a').focus();\n        }, 1);\n      },\n    });\n\n    const recipientFormEl = document.querySelector('[data-recipient-form]');\n\n    if (recipientFormEl) {\n      const sectionEl = recipientFormEl.closest('.product_section');\n      this.recipientForm = new RecipientForm(sectionEl);\n    }\n\n    // Complementary products\n    const complementaryProductsEl = document.querySelector('[data-complementary-products]');\n\n    if (complementaryProductsEl) {\n      const sectionEl = complementaryProductsEl.closest('.product_section');\n      const {\n        sectionId,\n        productId,\n        productRecommendationLimit,\n      } = JSON.parse(document.querySelector('[data-complementary-products-data]').textContent);\n\n      this.complementaryProductRecommendations = new ComplementaryProducts({\n        sectionEl,\n        sectionId,\n        productId,\n        productRecommendationsRoute: window.PXUTheme.routes.product_recommendations_url,\n        includeIndicatorDots: true,\n        limit: productRecommendationLimit,\n        arrowShape: 'M 10,50 L 60,100 L 70,90 L 30,50  L 70,10 L 60,0 Z',\n      });\n    }\n\n    /*\n      If the product recommendations section exists, run the loadProductRecommendations method\n      The selectCallback within this method will only affect the products in the product recommendations section\n    */\n    if ($('.shopify-section--recommended-products').length) {\n      window.productPage.loadProductRecommendations();\n    }\n  },\n  runOptionSelector($element) {\n    let $defaultSelector = $('.js-product-section [data-product-form]:not(.product-recommendations .js-product-section [data-product-form])');\n\n    if ($element) {\n      $defaultSelector = $element.find('[data-product-form]');\n    }\n\n    $defaultSelector.each((_, options) => {\n      const $options = $(options);\n      const $productDetails = $options.closest('.product__details');\n\n      // Set up variables for price ui and surface pickup\n      let priceUIEl;\n\n      const paymentTerms = new window.PaymentTerms($productDetails[0]);\n\n      // If smaller screen size and thumbnail hover enabled\n      // use price ui element inside of caption instead\n      if (window.PXUTheme.media_queries.medium.matches && window.PXUTheme.theme_settings.hover_enabled && window.PXUTheme.theme_settings.quick_shop_enabled && window.PXUTheme.theme_settings.quick_shop_style === 'inline') {\n        priceUIEl = $productDetails.find('.modal_price [data-price-ui], .product-info__caption [data-price-ui]')[0];\n      } else {\n        priceUIEl = $productDetails.find('[data-price-ui]')[0];\n      }\n\n      const priceUIBadgeEl = $productDetails.find('[data-price-ui-badge]')[0];\n      const surfacePickUpEl = $productDetails.find('[data-surface-pick-up]')[0];\n      const JSONData = $options.data('product');\n      const isPriceSavingsEnabled = priceUIEl && priceUIEl.closest(['[data-display-savings=\"true\"]']);\n      const productTitle = $options.data('product-title');\n\n      let priceUI;\n      let priceUIBadge;\n      let surfacePickUp;\n      let currentVariant;\n\n      if (priceUIEl) {\n        priceUI = new window.ShopifyPriceUI.PriceUI(priceUIEl);\n      }\n\n      if (priceUIBadgeEl) {\n        priceUIBadge = new window.ShopifyPriceUI.PriceUIBadge(priceUIBadgeEl);\n      }\n\n      if (surfacePickUpEl) {\n        surfacePickUp = new window.ShopifySurfacePickUp(surfacePickUpEl);\n        surfacePickUp.onModalRequest(contents => {\n          const surfacePickUpModal = document.querySelector('[data-surface-pick-up-modal]');\n          let fragment;\n          if (currentVariant.title && productTitle) {\n            fragment = document.createDocumentFragment();\n            const header = document.createElement('div');\n            const title = document.createElement('h2');\n            header.classList.add('surface-pick-up__modal-header');\n            title.classList.add('surface-pick-up__modal-title');\n            title.innerHTML = productTitle;\n            header.appendChild(title);\n            if (currentVariant.title !== 'Default Title') {\n              const subtitle = document.createElement('span');\n              subtitle.classList.add('surface-pick-up__modal-subtitle');\n              subtitle.innerHTML = currentVariant.title;\n              header.appendChild(subtitle);\n            }\n            fragment.appendChild(header);\n          }\n          surfacePickUpModal.innerHTML = contents;\n          surfacePickUpModal.insertBefore(fragment, surfacePickUpModal.firstChild);\n          $.fancybox.open(\n            surfacePickUpModal,\n            {\n              hash: false,\n              infobar: false,\n              toolbar: false,\n              loop: true,\n              smallBtn: true,\n              touch: false,\n              video: {\n                autoStart: false,\n              },\n              mobile: {\n                preventCaptionOverlap: false,\n                toolbar: true,\n              },\n            },\n          );\n        });\n      }\n\n      new window.Shopify.OptionSelectors($options.data('select-id'), {\n        product: $options.data('product'),\n        onVariantSelected: (variant, selector) => {\n          currentVariant = variant;\n\n          paymentTerms.update(variant ? variant.id : null);\n\n          if (priceUI) {\n            priceUI.load(\n              JSONData,\n              {\n                variant,\n                formatter: price => window.Shopify.formatMoney(price, $('body').data('money-format')),\n                handler: (priceUIFragment, _product, { variant: v }) => {\n                  if (isPriceSavingsEnabled && v) {\n                    if (v.compare_at_price > v.price) {\n                      const span = document.createElement('span');\n                      span.classList.add('sale', 'savings');\n                      const savings = v.compare_at_price - v.price;\n                      const percentage = Math.round((savings / v.compare_at_price) * 100);\n                      span.innerHTML = `${window.PXUTheme.translation.savings_text} ${percentage}% (<span class=\"money\">${window.Shopify.formatMoney(v.compare_at_price - v.price, $('body').data('money-format'))}</span>)`;\n\n                      priceUIFragment.appendChild(span);\n                    }\n                  }\n\n                  if (v && v.available) {\n                    if (v.price === 0) {\n                      const fragment = document.createDocumentFragment();\n                      const span = document.createElement('span');\n                      span.classList.add('free-price-text');\n\n                      if (window.PXUTheme.theme_settings.free_text !== '') {\n                        span.innerHTML = window.PXUTheme.theme_settings.free_text;\n                      } else {\n                        span.innerHTML = `<span class=\"money\">${window.Shopify.formatMoney(v.price, $('body').data('money-format'))}</span>`;\n                      }\n\n                      fragment.appendChild(span);\n\n                      return fragment;\n                    }\n\n                    return priceUIFragment;\n                  }\n\n                  if (!window.PXUTheme.theme_settings.display_sold_out_price) {\n                    const fragment = document.createDocumentFragment();\n                    const soldOutText = document.createElement('span');\n                    soldOutText.classList.add('sold_out');\n                    soldOutText.innerHTML = v\n                      ? window.PXUTheme.translation.sold_out_text\n                      : window.PXUTheme.translation.unavailable_text;\n                    fragment.appendChild(soldOutText);\n                    return fragment;\n                  }\n\n                  // Displays sold out text beside price\n                  if (window.PXUTheme.theme_settings.display_sold_out_price) {\n                    const span = document.createElement('span');\n\n                    span.classList.add('sold_out');\n                    span.innerHTML = v\n                      ? window.PXUTheme.translation.sold_out_text\n                      : window.PXUTheme.translation.unavailable_text;\n\n                    priceUIFragment.appendChild(span);\n                  }\n\n                  return priceUIFragment;\n                },\n              },\n            );\n\n            if (window.PXUTheme.theme_settings.display_sold_out_price && variant && variant.price === 0 && !variant.available) {\n              const priceElement = priceUIEl.querySelector('[data-price]');\n              if (!priceElement) { return; }\n              if (window.PXUTheme.theme_settings.free_text !== '') {\n                const span = document.createElement('span');\n                span.classList.add('free-price-text');\n                span.innerHTML = window.PXUTheme.theme_settings.free_text;\n                priceElement.innerHTML = '';\n                priceElement.appendChild(span);\n              } else if (window.PXUTheme.theme_settings.free_text === '') {\n                priceElement.classList.add('price--sale');\n                return;\n              }\n            }\n          }\n\n          if (priceUIBadge) {\n            priceUIBadge.load(\n              JSONData,\n              {\n                variant,\n                style: 'default',\n                formatter: price => window.Shopify.formatMoney(price, $('body').data('money-format')),\n                handler: (priceUIFragment, _product, { variant: v }) => {\n                  if (v && v.available) {\n                    if (!v.compare_at_price || v.compare_at_price <= v.price) {\n                      return document.createDocumentFragment();\n                    }\n\n                    return priceUIFragment;\n                  }\n\n                  if ((v && !v.available) || !v) {\n                    const fragment = document.createDocumentFragment();\n                    let text;\n                    const sticker = document.createElement('div');\n                    sticker.classList.add('price-ui-badge__sticker');\n                    const stickerText = document.createElement('span');\n                    stickerText.classList.add('price-ui-badge__sticker-text');\n                    stickerText.setAttribute('data-badge', '');\n\n                    if (v && !v.available) {\n                      sticker.classList.add('price-ui-badge__sticker--sold-out');\n                      text = window.PXUTheme.translation.sold_out_text;\n                    }\n\n                    if (!v) {\n                      sticker.classList.add('price-ui-badge__sticker--unavailable');\n                      text = window.PXUTheme.translation.unavailable_text;\n                    }\n\n                    stickerText.innerHTML = text;\n                    sticker.appendChild(stickerText);\n                    fragment.appendChild(sticker);\n                    return fragment;\n                  }\n\n                  return priceUIFragment;\n                },\n              },\n            );\n          }\n\n          // Avoid loading surface pickup for the inline quick shop\n          if (surfacePickUp && !$options.closest('.js-product-section').hasClass('inline-quickshop')) {\n            surfacePickUp.load(variant ? variant.id : null);\n          }\n\n          window.selectCallback(variant, selector, $element);\n        },\n        enableHistoryState: $options.data('enable-state'),\n      });\n    });\n  },\n  enableGallery(selector) {\n    // Variables\n    const $productGallery = $(selector);\n    const $slides = $productGallery.find('.gallery-cell');\n    const $thumbnailProductGallery = $productGallery.closest('.js-product-section').find('.product_gallery_nav');\n    const $thumbnails = $thumbnailProductGallery.find('.gallery-cell');\n    const zoom = $productGallery.data('zoom');\n    const productLightbox = $productGallery.data('product-lightbox');\n    const thumbnailsEnabled = $productGallery.data('thumbnails-enabled');\n    const thumbnailsSliderEnabled = $productGallery.data('thumbnails-slider-enabled');\n    const thumbnailsPosition = $productGallery.data('thumbnails-position');\n    const thumbnailsArrows = $productGallery.data('gallery-arrows-enabled');\n    const slideshowSpeed = $productGallery.data('slideshow-speed');\n\n    // If zoom enabled\n    if (zoom === true) {\n      if (window.is_touch_device() && window.PXUTheme.media_queries.medium.matches) {\n        // Lightbox has a built-in zoom feature, so check if lightbox is disabled\n        if (productLightbox === 'false') {\n          document.addEventListener('lazybeforeunveil', window.imageFunctions.zoom);\n        }\n      } else {\n        document.addEventListener('lazybeforeunveil', window.imageFunctions.zoom);\n        window.imageFunctions.zoom($productGallery.find('[data-zoom-src]').first());\n      }\n    }\n\n    $productGallery.on('ready.flickity', () => {\n      $slides.each((index, slide) => {\n        // Determine media type\n        const mediaType = $(slide).data('media-type') || $(slide).find('[data-media-type]').data('media-type');\n        let videoID;\n\n        switch (mediaType) {\n          case 'external_video':\n\n            videoID = $(slide).find('[data-plyr-video-id]').data('plyr-video-id');\n\n            if (window.videoPlayers) {\n              window.videoPlayers.forEach(player => {\n                const currentPlayer = player;\n                if (player.id === videoID || player.media.id === videoID) {\n                  if (!$(slide).hasClass('is-selected')) {\n                    currentPlayer.keyboard = {\n                      focused: false,\n                      global: false,\n                    };\n                  }\n                }\n              });\n            }\n            break;\n          case 'video':\n\n            videoID = $(slide).find('[data-plyr-video-id]').data('plyr-video-id');\n\n            if (window.videoPlayers) {\n              window.videoPlayers.forEach(player => {\n                const currentPlayer = player;\n                if (player.id === videoID || player.media.id === videoID) {\n                  if (!$(slide).hasClass('is-selected')) {\n                    currentPlayer.keyboard = {\n                      focused: false,\n                      global: false,\n                    };\n                  }\n                }\n              });\n            }\n            break;\n          case 'model':\n            if ($(slide).hasClass('is-selected')) { // When active slide\n              if (mediaType === 'model' && window.isScreenSizeLarge()) {\n                $(slide).on('mouseenter', () => {\n                  $productGallery.flickity('unbindDrag');\n                });\n                $(slide).on('mouseleave', () => {\n                  $productGallery.flickity('bindDrag');\n                });\n              }\n            }\n            break;\n          default:\n            break;\n        }\n      });\n\n      // Video looping\n      const loopingEnabled = $productGallery.data('video-loop');\n\n      $.each(window.videoPlayers, (index, player) => {\n        const videoPlayer = player;\n        videoPlayer.loop = loopingEnabled;\n      });\n    });\n\n    $productGallery.on('change.flickity', () => {\n      $slides.each((index, slide) => {\n        // Determine media type of current slide\n        const mediaType = $(slide).data('media-type') || $(slide).find('[data-media-type]').data('media-type');\n\n        if ($(slide).hasClass('is-selected')) { // When active slide\n          switch (mediaType) {\n            case 'model':\n\n              /* On slide change, if active slide contains 3d model\n              * If on desktop, on hover, unbind flickity, after hover bind flickity\n              * On model play event, unbind flickity to ensure model can be interacted with\n              * On model pause event, bind flickity so that slide can be swiped\n              * Pause all model slides when hidden\n              */\n\n              if (window.isScreenSizeLarge()) {\n                // On mouseenter event, unbind flickity\n                $(slide).on('mouseenter', () => {\n                  $productGallery.flickity('unbindDrag');\n                });\n\n                // On mouseleave event, bind flickity\n                $(slide).on('mouseleave', () => {\n                  $productGallery.flickity('bindDrag');\n                });\n              }\n\n              // Listen for model pause/play events\n              $(slide).find('model-viewer').on('shopify_model_viewer_ui_toggle_play', () => {\n                $productGallery.flickity('unbindDrag');\n              });\n\n              $(slide).find('model-viewer').on('shopify_model_viewer_ui_toggle_pause', () => {\n                $productGallery.flickity('bindDrag');\n              });\n              break;\n            default:\n              $productGallery.flickity('bindDrag');\n              break;\n          }\n        } else {\n          // When inactive slide\n          switch (mediaType) {\n            case 'external_video':\n              // Youtube video pausing\n              $.each(window.videoPlayers, (_index, player) => {\n                player.pause();\n              });\n              break;\n            case 'video':\n              // HTML5 video pausing\n              $.each(window.videoPlayers, (_index, player) => {\n                player.pause();\n              });\n              break;\n            default: break;\n          }\n        }\n      });\n\n      // Restore 3d model icons\n      window.productMedia.showModelIcon($productGallery);\n    });\n\n    $productGallery.flickity({\n      wrapAround: true,\n      adaptiveHeight: true,\n      dragThreshold: 10,\n      imagesLoaded: true,\n      pageDots: false,\n      prevNextButtons: $productGallery.data('media-count') > 1 || $slides.length > 1,\n      autoPlay: slideshowSpeed * 1000,\n      watchCSS: false,\n    });\n\n    // Adjust arrows height if controls are hidden/shown\n    $.each(window.videoPlayers, (index, player) => {\n      // When controls are hidden, height should be auto\n      player.on('controlshidden', () => {\n        $productGallery.find('.flickity-prev-next-button').css('height', 'auto');\n      });\n      // When controls are shown, height should account for controls bar\n      player.on('controlsshown', () => {\n        $productGallery.find('.flickity-prev-next-button').css('height', 'calc(100% - 64px)');\n      });\n    });\n\n    function autoplayVideo(videoID, $slide) {\n      // Compare id to player object and only play that video\n      $.each(window.videoPlayers, (index, player) => {\n        if (parseInt(player.media.dataset.plyrVideoId, 10) === videoID) {\n          player.play();\n\n          // On fullscreen toggle, focus back on the slide itself\n          player.on('exitfullscreen', () => {\n            $slide.closest('.product-gallery').find('.product-gallery__thumbnails').focus();\n          });\n        }\n      });\n    }\n\n    function autoplayYoutubeVideo(iframeID, $slide) {\n      // compare id to player object and only play that video\n      $.each(window.videoPlayers, (index, player) => {\n        if (player.playing) {\n          player.pause();\n        }\n\n        if (player.media.id === iframeID) {\n          player.play();\n\n          // On fullscreen toggle, focus back on the slide itself\n          player.on('exitfullscreen', () => {\n            $slide.closest('.product-gallery').find('.product-gallery__thumbnails').focus();\n          });\n        }\n      });\n    }\n\n    function checkForVideos() {\n      $slides.each((index, slide) => {\n        // Variables\n        const $slide = $(slide);\n        const mediaType = $slide.data('media-type') || $slide.find('[data-media-type]').data('media-type');\n        let videoID = $slide.find('video').data('plyr-video-id');\n        const $iframeVideo = $slide.find('iframe');\n        const iframeID = $iframeVideo.attr('id');\n\n        if ($slide.hasClass('is-selected')) {\n          if (mediaType === 'video') {\n            videoID = $slide.find('video').data('plyr-video-id');\n            if (videoID) {\n              autoplayVideo(videoID, $slide);\n            }\n          } else if (mediaType === 'external_video' && iframeID) {\n            autoplayYoutubeVideo(iframeID, $slide);\n          }\n        }\n      });\n    }\n\n    // Checks for videos and plays them if they are the featured media\n    // Autoplay logic only happens on desktop, autoplay set to off for mobile\n    const $sliderArrows = $productGallery.find('.flickity-prev-next-button');\n\n    if (($sliderArrows || $thumbnails) && window.isScreenSizeLarge()) {\n      $sliderArrows.on('click', () => {\n        const pId = $productGallery.data('product-id');\n\n        $productGallery.on('settle.flickity', () => {\n          // Find out media type of featured media slide\n          const $selectedSlide = $productGallery.find('.gallery-cell.is-selected');\n          const mediaType = $selectedSlide.data('media-type') || $selectedSlide.find('[data-media-type]').data('media-type');\n\n          // Run video autoplay logic if featured media is a video\n          if (mediaType === 'video' || mediaType === 'external_video') {\n            checkForVideos();\n          }\n\n          // Autoplay model if featured media is a model\n          if (mediaType === 'model') {\n            // If model container has class is-selected then play the model\n            const sortedModels = [];\n            $.each(window.productMedia.models, model => {\n              if ($(model.container).closest('.gallery-cell').data('product-id') === pId) {\n                sortedModels.push(model);\n              }\n            });\n\n            $.each(sortedModels, model => {\n              const $slide = $(model.container).closest('.gallery-cell');\n              if ($slide.hasClass('is-selected')) {\n                model.play();\n              }\n            });\n          }\n          $productGallery.off('settle.flickity');\n        });\n\n        return false;\n      });\n\n      $thumbnails.on('click', event => {\n        const index = $(event.currentTarget).index();\n        const pId = $productGallery.data('product-id');\n        $productGallery.flickity('select', index);\n\n        $productGallery.on('settle.flickity', () => {\n          // Find out media type of featured media slide\n          const $selectedSlide = $productGallery.find('.gallery-cell.is-selected');\n          const mediaType = $selectedSlide.data('media-type') || $selectedSlide.find('[data-media-type]').data('media-type');\n\n          // Run video autoplay logic if featured media is a video\n          if (mediaType === 'video' || mediaType === 'external_video') {\n            checkForVideos();\n          }\n\n          // Autoplay model if featured media is a model\n          if (mediaType === 'model') {\n            // If model container has class is-selected then play the model\n            const sortedModels = [];\n            $.each(window.productMedia.models, (_index, model) => {\n              if ($(model.container).closest('.gallery-cell').data('product-id') === pId) {\n                sortedModels.push(model);\n              }\n            });\n\n            $.each(sortedModels, (_index, model) => {\n              const $slide = $(model.container).closest('.gallery-cell');\n              if ($slide.hasClass('is-selected')) {\n                model.play();\n              }\n            });\n          }\n          $productGallery.off('settle.flickity');\n        });\n        return false;\n      });\n\n      $thumbnails.keypress(event => {\n        const index = $(event.currentTarget).index();\n        const pId = $productGallery.data('product-id');\n        if (event.which === 13) {\n          $productGallery.flickity('select', index);\n\n          const $selectedSlide = $productGallery.find('.gallery-cell.is-selected');\n\n          $productGallery.on('settle.flickity', () => {\n            $selectedSlide.find('[data-youtube-video]').attr('tabindex', '0');\n            $selectedSlide.find('model-viewer, .plyr, a').focus();\n            $productGallery.off('settle.flickity');\n          });\n\n          // Find out media type of featured media slide\n          const mediaType = $selectedSlide.data('media-type') || $selectedSlide.find('[data-media-type]').data('media-type');\n\n          // Run video autoplay logic if featured media is a video\n          if (mediaType === 'video' || mediaType === 'external_video') {\n            checkForVideos();\n          }\n\n          // Autoplay model if featured media is a model\n          if (mediaType === 'model') {\n            // If model container has class is-selected then play the model\n            const sortedModels = [];\n            $.each(window.productMedia.models, model => {\n              if ($(model.container).closest('.gallery-cell').data('product-id') === pId) {\n                sortedModels.push(model);\n              }\n            });\n\n            $.each(sortedModels, model => {\n              const $slide = $(model.container).closest('.gallery-cell');\n              if ($slide.hasClass('is-selected')) {\n                model.play();\n              }\n            });\n          }\n          return false;\n        }\n        return undefined;\n      });\n    }\n\n    // Thumbnail gallery logic begins\n    if (thumbnailsEnabled === true && thumbnailsSliderEnabled === true && $slides.length > 1) {\n      // If desktop determine which slider we build\n      if (window.PXUTheme.media_queries.large.matches) {\n        // If thumbnail position is left/right then vertical slider gets enabled\n        if (thumbnailsPosition === 'left' || thumbnailsPosition === 'right') {\n          $thumbnailProductGallery.css('max-height', $productGallery.closest('.product-gallery').outerHeight());\n          $thumbnailProductGallery.addClass('vertical-slider-enabled');\n\n          $thumbnails.on('click', event => {\n            const index = $(event.currentTarget).index();\n            $productGallery.flickity('select', index);\n          });\n\n          const navCellHeight = $thumbnails.height();\n          const navHeight = $thumbnailProductGallery.height();\n\n          $productGallery.on('select.flickity', () => {\n            // set selected nav cell\n            const flkty = $productGallery.data('flickity');\n            $thumbnailProductGallery.find('.is-nav-selected').removeClass('is-nav-selected');\n            const $selected = $thumbnails.eq(flkty.selectedIndex).addClass('is-nav-selected');\n\n            // scroll nav\n            const scrollY = $selected.position().top + $thumbnailProductGallery.scrollTop() - (navHeight + navCellHeight) / 2;\n            $thumbnailProductGallery.animate({\n              scrollTop: scrollY,\n            });\n          });\n        } else {\n          $thumbnailProductGallery.flickity({\n            cellAlign: 'center',\n            contain: true,\n            groupCells: '80%',\n            imagesLoaded: true,\n            pageDots: false,\n            prevNextButtons: $thumbnails.length > 5 ? thumbnailsArrows : false,\n            asNavFor: $productGallery[0],\n          });\n\n          $thumbnailProductGallery.on('settle.flickity', () => {\n            $thumbnailProductGallery.flickity('resize');\n          });\n\n          $(window).on('load', () => {\n            $thumbnailProductGallery.flickity('resize');\n          });\n\n          // Once thumbnail is focused, move carousel to that cell\n          $.each($thumbnails, (index, thumbnail) => {\n            const $thumbnail = $(thumbnail);\n            if ($thumbnail.hasClass('is-selected')) {\n              $thumbnail.on('focus', () => {\n                $thumbnailProductGallery.flickity('selectCell', index);\n              });\n            }\n          });\n        }\n      } else {\n        // If not on desktop, create standard thumbnail slider\n        $thumbnailProductGallery.flickity({\n          cellAlign: 'center',\n          contain: true,\n          groupCells: '80%',\n          imagesLoaded: true,\n          pageDots: false,\n          prevNextButtons: $thumbnails.length > 5 ? thumbnailsArrows : false,\n          asNavFor: $productGallery[0],\n        });\n      }\n    } else if (thumbnailsEnabled === true) {\n      // If thumbnail slider is disabled, ensure thumbnails can still navigate product images\n      $thumbnailProductGallery.find('.product-gallery__thumbnail').on('click', function () {\n        const index = $(this).index();\n        $productGallery.flickity('selectCell', index);\n      });\n    }\n\n    $(window).on('load', () => {\n      $productGallery.flickity().flickity('resize');\n    });\n\n    $productGallery.on('settle.flickity', () => {\n      $productGallery.flickity().flickity('resize');\n    });\n  },\n  loadProductRecommendations() {\n    const $productRecommendations = $('[data-product-recommendations]');\n    const $productRecommendationsSection = $('.shopify-section--recommended-products');\n    const sectionID = $productRecommendations.data('section-id');\n    const productID = $productRecommendations.data('product-id');\n    const limit = $productRecommendations.data('limit');\n    const recommendationsURL = $productRecommendations.data('recommendations-url');\n    const sectionEnabled = $productRecommendationsSection.find($productRecommendations).data('enabled');\n    const $recommendedProductSlider = $('.js-recommended-products-slider');\n\n    function loadDynamicProducts() {\n      // Build request URL\n      const requestUrl = `${recommendationsURL}?section_id=${sectionID}&limit=${limit}&product_id=${productID}`;\n\n      // Make ajax call to request information for window.Shopify's recommended products\n      $.ajax({\n        type: 'GET',\n        url: requestUrl,\n        success(data) {\n          if (!sectionEnabled) {\n            return;\n          }\n\n          const $recommendedProductsElement = $(data).find('.product-recommendations').html();\n\n          // Insert product list into the product recommendations container\n          $productRecommendations.html($recommendedProductsElement);\n\n          // Initialize product slider if it exists on page\n          if ($recommendedProductSlider.length) {\n            window.productPage.recommendedProductsSlider();\n          } else {\n            // Call enable gallery function for product galleries\n            $('[data-product-recommendations] [data-product-gallery]').each((_, gallery) => {\n              const $productGallery = $(gallery);\n              window.productPage.enableGallery($productGallery);\n            });\n          }\n\n          // Converting the currencies\n          if (window.PXUTheme.currency.show_multiple_currencies) {\n            window.currencyConverter.convertCurrencies();\n          }\n\n          // Run option selectors\n          window.productPage.runOptionSelector($productRecommendationsSection);\n\n          // Initialize shopify payment buttons\n          if (window.Shopify.PaymentButton) {\n            window.Shopify.PaymentButton.init();\n          }\n\n          // Hide <noscript> elements\n          window.hideNoScript();\n\n          // Initialize video players\n          window.videoFeature.setupRecommendedVideoPlayer();\n\n          // Initialize swatch toggler\n          $('.swatch_options label').on('click', function() {\n            window.quickShop.toggleSwatchImages($(this));\n          });\n\n          // Initialize the show secondary media on hover feature\n          if (window.PXUTheme.theme_settings.collection_secondary_image) {\n            window.imageFunctions.showSecondaryImage();\n          }\n        },\n      });\n    }\n\n    if (!sectionEnabled) { return; }\n\n    // If meta collection, no need to run API request\n    const metaCollection = $productRecommendations.hasClass('meta-related-recommended-collection');\n\n    if (metaCollection) {\n      // Takes care of moving content from Shopify section into block container\n\n      // Initialize product slider if it exists on page\n      if ($recommendedProductSlider.length) {\n        window.productPage.recommendedProductsSlider();\n      } else {\n        // Call enable gallery function for product galleries\n        $('.product-recommendations [data-product-gallery]').each(function () {\n          const $productGallery = $(this);\n          window.productPage.enableGallery($productGallery);\n        });\n      }\n\n      // Run option selectors\n      window.productPage.runOptionSelector($productRecommendationsSection);\n    } else {\n      loadDynamicProducts();\n    }\n  },\n  productSwatches() {\n    // Swatches linked with selected options\n    if (window.PXUTheme.theme_settings.product_form_style === 'radio') {\n      if ($('.js-product-section').length) {\n        const $productForms = $('.js-product-section').find('.product_form');\n\n        $productForms.addClass('is-visible');\n\n        // Loop through each product and set the initial option value state\n\n        $productForms.each((_, productForm) => {\n          const $productForm = $(productForm);\n          const JSONData = $productForm.data('product');\n          const productID = $productForm.data('product-id');\n          const productSection = `.product-${productID} .js-product-section`;\n          const swatchOptions = $productForm.find('.swatch_options .swatch');\n          if (swatchOptions.length > 1) {\n            window.Shopify.linkOptionSelectors(JSONData, productSection);\n          }\n        });\n      }\n\n      // Add click event when there is more than one product on the page (eg. Collection in Detail)\n      if ($('.js-product-section').length > 1) {\n        $('body').on('click', '.swatch-element', swatchElement => {\n          const $swatchElement = $(swatchElement.currentTarget);\n          const swatchValue = $swatchElement.data('value').toString();\n\n          $swatchElement\n            .siblings(`input[value=\"${swatchValue.replace(/\"/g, '\\\\\"')}\"]`)\n            .prop('checked', true)\n            .trigger('change');\n\n          const JSONData = $swatchElement.parents('.product_form').data('product');\n          const productID = $swatchElement.parents('.product_form').data('product-id');\n          const productSection = `.product-${productID} .js-product-section`;\n          const swatchOptions = $swatchElement.parents('.product_form').find('.swatch_options .swatch');\n\n          if (swatchOptions.length > 1) {\n            window.Shopify.linkOptionSelectors(JSONData, productSection);\n          }\n        });\n      }\n    }\n  },\n  recommendedProductsSlider() {\n    $('.product-recommendations .products-slider').each((_, productSlider) => {\n      const $productSlider = $(productSlider);\n      const productsPerSlide = $productSlider.data('products-per-slide');\n      const productsLimit = $productSlider.data('products-limit');\n      const productsAvailable = $productSlider.data('products-available');\n      let cellAlign;\n      let draggable;\n      let prevNext;\n      let wrapAround;\n      let initialIndex;\n\n      const lessSlidesThanProducts = productsAvailable > productsPerSlide;\n      const limitGreaterThanSlide = productsLimit > productsPerSlide;\n      const evenSlide = productsPerSlide % 2 === 0;\n\n      if (evenSlide && lessSlidesThanProducts && limitGreaterThanSlide) {\n        cellAlign = 'left';\n      } else {\n        cellAlign = 'center';\n      }\n\n      if (lessSlidesThanProducts && limitGreaterThanSlide) {\n        draggable = true;\n        prevNext = true;\n        wrapAround = true;\n      } else {\n        draggable = false;\n        prevNext = false;\n        wrapAround = false;\n      }\n\n      if (evenSlide && lessSlidesThanProducts && limitGreaterThanSlide) {\n        initialIndex = 0;\n      } else if (productsPerSlide === '3' && productsAvailable) {\n        initialIndex = 1;\n      } else if (productsPerSlide === '5' && productsAvailable) {\n        initialIndex = 2;\n      } else if (productsPerSlide === '7' && productsAvailable) {\n        initialIndex = 3;\n      }\n\n      if (window.PXUTheme.media_queries.medium.matches) {\n        cellAlign = 'center';\n        draggable = true;\n        prevNext = true;\n        wrapAround = true;\n        initialIndex = 1;\n\n        $productSlider.parents('.even-num-slides').removeClass('even-num-slides');\n      }\n\n      $productSlider.flickity({\n        lazyLoad: 2,\n        imagesLoaded: true,\n        draggable,\n        cellAlign,\n        prevNextButtons: prevNext,\n        wrapAround,\n        contain: true,\n        freeScroll: true,\n        initialIndex,\n      });\n    });\n  },\n  initializeQuantityBox() {\n    $('body').on('click', '.js-change-quantity', e => {\n      const $this = $(e.currentTarget);\n      const $input = $this.siblings('input');\n      const val = parseInt($input.val(), 10);\n      let valMax = 100000000000000000000000000000;\n      const valMin = $input.attr('min') || 0;\n      if ($input.attr('max') != null) {\n        valMax = $input.attr('max');\n      }\n      if (isNaN(val) || val < valMin) {\n        $input.val(valMin);\n      } if (val > valMax) {\n        $input.val(valMax);\n      }\n      if ($this.data('func') === 'plus') {\n        if (val < valMax) $input.val(val + 1);\n      } else {\n        if (val > valMin) $input.val(val - 1);\n        if ($this.parents('.cart_item').length) {\n          if (val - 1 === 0) {\n            $this.closest('.cart_item').addClass('animated fadeOutUp');\n          }\n        }\n      }\n      $input.trigger('change');\n    });\n  },\n  unload($target) {\n    const $slider = $target.find('.products-slider');\n    $slider.flickity('destroy');\n    $('body').off('click', '.js-change-quantity');\n  },\n};\n\n/*============================================================================\n  Header\n==============================================================================*/\n\nclass HeaderFader {\n  constructor() {\n    this.el = document.querySelector('[data-desktop-header]');\n    if (!this.el) return;\n    this.openers = new Set();\n    this.fadeClass = 'feature_image';\n    if (this.el.classList.contains('feature_image')) {\n      this.shouldFade = this.el.classList.contains('feature_image');\n    }\n  }\n\n  updateShouldFade(shouldFade) {\n    if (!this.el) return;\n\n    // No menus are open\n    if (!this.openers.size) {\n      this.shouldFade = shouldFade;\n      return;\n    }\n\n    // 1+ menus are open\n    if (shouldFade) {\n      this._fade();\n      this.shouldFade = shouldFade;\n    } else {\n      if (this.shouldFade) {\n        this.openers.clear();\n        this._clear();\n      }\n      this.shouldFade = shouldFade;\n    }\n  }\n\n  fade(requestor) {\n    if (!this.el) return;\n    if (!this.shouldFade) return;\n    if (this.openers.has(requestor)) return;\n    this.openers.add(requestor);\n    this._fade();\n  }\n\n  clear(requestor) {\n    if (!this.el) return;\n    if (!this.shouldFade) return;\n    this.openers.delete(requestor);\n    if (this.openers.size) return;\n    this._clear();\n  }\n\n  _fade() {\n    this.el.classList.remove(this.fadeClass);\n  }\n\n  _clear() {\n    this.el.classList.add(this.fadeClass);\n  }\n}\n\n/**\n * @class NavigationDesktopParent\n * @classdesc NavigationDesktopParent controls the functionality of tier 2 menus\n */\nclass NavigationDesktopParent {\n  constructor(options) {\n    this.menuItem = options.menuItem;\n    this.detailsItem = options.menuItem.querySelector('[data-nav-desktop-details]');\n    this.parentMenu = options.parentMenu;\n    this._locked = options.locked || (() => false);\n\n    this.menuLink = this.detailsItem.querySelector('[data-nav-desktop-link]');\n    this.submenuEl = this.menuItem.querySelector('[data-nav-desktop-submenu]');\n    this.isWideNav = 'navDesktopFullWidthMenu' in this.submenuEl.dataset;\n    this.openOnClick = this.menuItem.closest('[data-show-dropdown-on-click]');\n\n    this._isOpen = false;\n    this.submenu = null;\n\n    this.events = new window.EventHandler();\n\n    this._open = this._open.bind(this);\n    this._close = this._close.bind(this);\n    this.close = this.close.bind(this);\n\n    // When a user hits the escape key all of the menus should close and the keyboard focus should return\n    // to the parent link. This will bubble up to the top parent menu.\n    this.closeEsc = e => {\n      if (e.key === 'Escape') {\n        this.menuLink.focus();\n        this._close();\n      }\n    };\n\n    // When the mouse leaves the open menu, we don't want to close it right away. Setting a delay on close\n    // allows situations where you might go to another parent menu but your mouse would drag slightly outside\n    // of the open menu, causing you to have to go back and open the menu again. This improves accessibility\n    // as well as general usability.\n    this.closeTimer = null;\n    this.mouseover = () => {\n      clearTimeout(this.closeTimer);\n      this._open();\n    };\n\n    this.mouseout = () => {\n      this.closeTimer = setTimeout(this.close, 400);\n    };\n\n    this.click = e => {\n      e.stopPropagation();\n      // If the menu is already open, we want to continue to the link in the <a> tag.\n      // For mouse hover, this is pretty straightforward, but with keyboard and touch navigation\n      // you will have to touch or trigger that link a second time. This is maybe not the best for\n      // accessibility, but it's a good compromise for now.\n\n      const clickedParent = e.target.closest('[data-nav-desktop-link]');\n\n      if (clickedParent && 'href' in clickedParent.dataset) {\n        // We only prevent the click through if the menu wasn't already open.\n        e.preventDefault();\n\n        if (this._isOpen) {\n          window.location = clickedParent.dataset.href;\n          return;\n        }\n      }\n\n      // If the submenu isn't open, open it\n      this._open();\n    };\n\n    // During keyboard navigation, when you focus onto the parent menuItem, this will close the other\n    // menu items that were previously open. This usually happens when you were navigating within\n    // a submenu and then tab out of it to the next menu item at a lower tier.\n    this.focusin = e => {\n      e.stopPropagation();\n      this.parentMenu.closeSiblings(this);\n    };\n\n    // Set up animation event\n    this.animation = window.animations.transition({ el: this.submenuEl, state: 'closed' });\n\n    if (!this.openOnClick) {\n      this.events.register(this.menuItem, 'mouseover', () => this.mouseover());\n      this.events.register(this.menuItem, 'mouseout', () => this.mouseout());\n    }\n\n    this.events.register(this.menuItem, 'click', e => this.click(e));\n    this.events.register(this.menuItem, 'touchend', e => this.click(e));\n    this.events.register(this.menuItem, 'focusin', e => this.focusin(e));\n\n    // If the user clicks, taps, or their keyboard focus reaches outside of the menu\n    // we should close this menu.\n    this.events.register(document.body, 'click', () => this._close());\n    this.events.register(document.body, 'focusin', () => this._close());\n  }\n\n  /**\n   * Close the dropdown menu immediately\n   *\n   */\n  forceClose() {\n    this._close();\n  }\n\n  /**\n   * Close the dropdown menu\n   *\n   */\n  close() {\n    this._close();\n  }\n\n  /**\n   * Open the dropdown menu immediately\n   */\n  forceOpen() {\n    this._open(true);\n  }\n\n  /**\n   * Open the dropdown menu\n   */\n  open() {\n    this._open();\n  }\n\n  /**\n   * Check to see if dropdown is offscreen and apply a class so it can be styled differently.\n   */\n  _setAlternateDrop() {\n    if (this.isWideNav) return;\n\n    const menuBounds = this.submenuEl.getBoundingClientRect();\n    if (menuBounds.right > document.documentElement.clientWidth) {\n      this.submenuEl.classList.add('alternate-drop');\n    }\n    if (menuBounds.left < 0) {\n      this.submenuEl.classList.add('alternate-drop-left');\n    }\n  }\n\n  /**\n   * Remove any class applied to prevent offscreen menus\n   */\n  _removeAlternateDrop() {\n    this.submenuEl.classList.remove('alternate-drop');\n  }\n\n  /**\n   * Opens the dropdown menu\n   *\n   * @private\n   */\n  _open(force = false) {\n    if (this._isOpen || this._locked()) return;\n\n    this._isOpen = true;\n    this.parentMenu.closeSiblings(this);\n\n    this.closeEscEvent = this.events.register(window, 'keyup', e => this.closeEsc(e));\n\n    if (!this.submenu) {\n      this.submenu = new NavigationDesktopMenu({ navList: this.submenuEl });\n    }\n\n    this._removeAlternateDrop();\n\n    if (this.isWideNav) {\n      window.headerFader.fade(this);\n    }\n\n    this.detailsItem.setAttribute('open', 'open');\n\n    this.animation.animateTo('open', {\n      onStart: ({ el }) => {\n        this._setAlternateDrop();\n      },\n      force,\n    }).then(state => {\n      if (state == 'open') {\n        this.menuLink.setAttribute('aria-expanded', true);\n      }\n    });\n  }\n\n  /**\n   * Closes the dropdown menu\n   *\n   * @private\n   */\n  _close() {\n    if (!this._isOpen || this._locked()) return;\n\n    if (this.submenu) {\n      this.submenu.unload();\n      this.submenu = null;\n    }\n\n    this._isOpen = false;\n\n    this.events.unregister(this.closeEscEvent);\n\n    if (this.isWideNav) {\n      window.headerFader.clear(this);\n    }\n\n    this.animation.animateTo('closed')\n      .then(state => {\n        if (state == 'closed') {\n          this._removeAlternateDrop();\n          this.menuLink.setAttribute('aria-expanded', false);\n          this.detailsItem.removeAttribute('open');\n        }\n      });\n  }\n\n  /**\n   * Unbinds all events\n   *\n   */\n  unload() {\n    this.forceClose();\n    this.events.unregisterAll();\n\n    if (this.closeEscEvent) {\n      this.events.unregister(this.closeEscEvent);\n    }\n  }\n}\n\n/**\n * @class NavigationDesktopMenu\n * @classdesc NavigationDesktopMenu controls the overall menu functionality and initializes Tier 2 menus\n */\nclass NavigationDesktopMenu {\n  constructor(options) {\n    this.navList = options.navList;\n    this.menuItems = this.navList.children;\n\n    // NavigationDesktopParent for meganav, if any, that is selected for editing in the TE.\n    this._selectedBlock = null;\n\n    this.parents = [];\n\n    this.events = new window.EventHandler();\n\n    for (let i = 0; i < this.menuItems.length; i++) {\n      const menuItem = this.menuItems[i];\n      if ('navDesktopParent' in menuItem.dataset) {\n        this.parents.push(\n          new NavigationDesktopParent({\n            menuItem,\n            parentMenu: this,\n            locked: () => this._selectedBlock !== null,\n          }),\n        );\n      } else {\n        // If the keyboard navigation moves to another menuItem, we should close any\n        // other existing menus that are open.\n        this.events.register(menuItem, 'focusin', () => this.closeAllMenus());\n      }\n    }\n  }\n\n  onMeganavSelect(block) {\n    const meganavParent = this.parents.find(parent => parent.menuItem === block);\n\n    if (!meganavParent) return;\n\n    meganavParent.forceOpen();\n    this._selectedBlock = meganavParent;\n  }\n\n  onMeganavDeselect() {\n    this._selectedBlock = null;\n    this.closeAllMenus();\n  }\n\n  /**\n   * This function will close all menus that are not the current menu.\n   * This is mostly used by the HeaderNavParent class.\n   *\n   * @param { Object } current - The current menuItem\n   */\n  closeSiblings(current) {\n    this.parents.forEach(parent => {\n      if (parent !== current) {\n        parent.close();\n      }\n    });\n  }\n\n  /**\n   * This function will close all menus\n   *\n   */\n  closeAllMenus() {\n    this.parents.forEach(parent => parent.close());\n  }\n\n  /**\n   * Unbinds all events\n   *\n   */\n  unload() {\n    this.closeAllMenus();\n    this.parents.forEach(parent => { parent.unload(); });\n    this.events.unregisterAll();\n  }\n}\n\n\n/**\n * @class NavigationDesktop\n * @classdesc Header navigation component is used to display menus on the header and set up their functionality\n *\n */\nclass NavigationDesktop {\n  constructor(el) {\n    this.navTier1 = el.querySelector('[data-nav-desktop-tier-1]');\n\n    if (this.navTier1) {\n      this.headerNavMenu = new NavigationDesktopMenu({\n        navList: this.navTier1,\n      });\n    }\n  }\n\n  onMeganavSelect(block) {\n    if (!this.headerNavMenu) return;\n\n    this.headerNavMenu.onMeganavSelect(block);\n  }\n\n  onMeganavDeselect() {\n    if (!this.headerNavMenu) return;\n\n    this.headerNavMenu.onMeganavDeselect();\n  }\n\n  unload() {\n    if (!this.headerNavMenu) return;\n\n    this.headerNavMenu.unload();\n  }\n}\n\nclass NavigationDesktopManager {\n  constructor() {\n    this.desktopNavs = [];\n  }\n\n  onMeganavSelect(block) {\n    this.desktopNavs.forEach(nav => nav.onMeganavSelect(block));\n  }\n\n  onMeganavDeselect() {\n    this.desktopNavs.forEach(nav => nav.onMeganavDeselect());\n  }\n\n  initAll() {\n    this.unload();\n\n    this.desktopNavs = Array.prototype.map\n      .call(document.querySelectorAll('[data-nav-desktop]'), navEl => new NavigationDesktop(navEl));\n  }\n\n  unload() {\n    this.desktopNavs.forEach(nav => nav.unload());\n  }\n}\n\nwindow.navigationDesktopManager = new NavigationDesktopManager();\n\nclass MobileMenuDrawer {\n  constructor(el) {\n    this.el = el;\n\n    if (!this.el) return;\n\n    this.trigger = this.el.querySelector('[data-mobile-menu-trigger]');\n    this.icon = this.el.querySelector('[data-mobile-menu-icon]');\n\n    this.animation = window.animations.transition({\n      el: this.el.querySelector(['[data-nav]']),\n      state: 'closed',\n    });\n\n    this.events = new window.EventHandler();\n\n    this.events.register(this.trigger, 'click', e => {\n      e.preventDefault();\n      this._toggle()\n    });\n  }\n\n  _toggle() {\n    if (this.animation.state === 'open') {\n      this.close();\n      return;\n    }\n\n    this.open();\n  }\n\n  open() {\n    if (!this.el) return;\n    if (this.animation.state === 'open') return;\n\n    this.el.open = true;\n    this.icon.classList.add('open');\n    document.body.classList.add('is-active');\n    this.animation.animateTo('open')\n  }\n\n  close() {\n    if (!this.el) return;\n    if (this.animation.state === 'closed') return;\n\n    this.icon.classList.remove('open');\n    this.animation.animateTo('closed')\n      .then(state => {\n        if (state === 'closed') {\n          this.el.open = false;\n          document.body.classList.remove('is-active');\n        }\n      });\n  }\n\n  unload() {\n    if (this.events) {\n      this.events.unregisterAll();\n    }\n  }\n}\n\nwindow.header = {\n  init() {\n    this.events = new EventHandler();\n    this.headerSearch = document.querySelector('[data-dropdown-rel=\"search\"]');\n\n    window.headerFader = new HeaderFader();\n    window.navigationDesktopManager.initAll();\n    window.mobileMenuDrawer = new MobileMenuDrawer(document.querySelector('[data-mobile-menu]'));\n\n    this.events.register(this.headerSearch, 'click', e => {\n      if (window.PXUTheme.media_queries.medium.matches) {\n        e.preventDefault();\n        window.mobileSearch.open();\n      }\n    });\n\n    var closeMiniCart = function() {\n      // Handle cart notes before closing\n      document.querySelectorAll('[data-cart-form=\"mini-cart\"] [data-cart-note]').forEach(el => {\n        el.addEventListener('change', event => {\n          const body = JSON.stringify({ note: event.target.value });\n          const options = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json', Accept: 'application/json' },\n          };\n          fetch(`${window.PXUTheme.routes.cart_update_url}`, { ...options, ...{ body } });\n        });\n      });\n\n      $('body').removeClass('is-active').removeClass('blocked-scroll');\n      $('.dropdown_link').toggleClass('active_link');\n      $('.cart-container').removeClass('active_link');\n    };\n\n    var openMiniCart = function($cart_container) {\n      window.mobileMenuDrawer.close();\n      $('.dropdown_link').removeClass('active_link');\n      $cart_container.addClass('active_link');\n    };\n\n    if ($('.promo-banner').length) {\n      const promoBanner = window.Cookies.get('promo-banner');\n\n      if (promoBanner !== 'dismiss') {\n        $('body').addClass('promo-banner--show');\n        $('.promo-banner').on('click', '.promo-banner__close', () => {\n          $('body').removeClass('promo-banner--show');\n          window.Cookies.set('promo-banner', 'dismiss', {\n            expires: 30, path: '', domain: '', sameSite: 'None', secure: true,\n          });\n        });\n      }\n    }\n\n    // Click anywhere outside of dropdown to close\n    $('html').on('click', event => {\n      if (!$(event.target).closest('.cart-container').length && $('.cart_content').is(':visible')) {\n        closeMiniCart();\n      }\n    });\n\n    // Close the mini cart when the mobile menu is clicked\n    $('.mobile_nav').on('click', event => {\n      if (!$(event.target).closest('.cart-container').length && $('.cart_content').is(':visible')) {\n        closeMiniCart();\n      }\n    });\n\n    //Only apply on larger screen sizes\n    if (window.PXUTheme.media_queries.large.matches) {\n      if ($('.header').hasClass('header-fixed--true')){\n\n        //offset scroll position\n        $('body').on('click', '.banner a[href^=\"#\"]', function(e) {\n            e.preventDefault();\n            var anchorLink = $(this).attr('href');\n            var headerHeight = $('.main-nav__wrapper.sticky_nav').outerHeight();\n            $('html, body').animate({\n              scrollTop: $(anchorLink).offset().top - headerHeight\n            }, 2000);\n        });\n\n        if (!$('.main-nav__wrapper').hasClass('sticky_nav')) {\n          let stickyNavAnimation;\n          window.sticky_nav = new Headhesive('.main-nav__wrapper', {\n            offset: 700,\n            throttle: 300,\n            classes: {\n              clone: 'sticky_nav',\n              stick: 'sticky_nav--stick',\n              unstick: 'sticky_nav--unstick'\n            },\n            onInit: function() {\n              $('.sticky_nav .secondary_logo').css('display', 'none');\n              $('.sticky_nav .primary_logo').css('display', 'block');\n              $('.sticky_nav .icon-search').css('display', 'block');\n              $('.sticky_nav .search-form').css('display', 'none');\n              $('.sticky_nav .search-link').css('display', 'block');\n              $('.sticky_nav .main-nav').append($(\".header .cart-container\").clone());\n              window.navigationDesktopManager.initAll();\n              stickyNavAnimation = new window.animations\n                .transition({ el: document.querySelector('.sticky_nav'), state: 'closed' });\n            },\n            onStick: function() {\n              stickyNavAnimation.animateTo('open', {\n                onStart: () => {\n                  var maxHeight = 0;\n                  var $targetHeightElement = $('.sticky_nav .main-nav');\n\n                  $targetHeightElement.each(function() {\n                    maxHeight = maxHeight > $(this).outerHeight() ? maxHeight : $(this).outerHeight();\n                  });\n\n                  $('.sticky_nav .mini_cart').css('height', maxHeight);\n                  $('.sticky_nav .cart_content').css('top', maxHeight);\n                  document.querySelector('.sticky_nav').style.setProperty('--sticky-header-height', `${maxHeight}px`);\n                },\n              });\n            },\n            onUnstick: function() {\n              $('.cart-container').removeClass('active_link');\n              stickyNavAnimation.animateTo('closed', { force: true });\n            },\n            onDestroy: () => {\n              if (stickyNavAnimation) {\n                stickyNavAnimation.unload();\n              }\n            }\n          });\n        }\n      } else {\n        $('.header-fixed--true').removeClass('header-fixed--true');\n        if ($('.main-nav__wrapper').length > 1) {\n          $('.main-nav__wrapper').first().remove();\n        }\n      }\n\n      if ($('img.primary_logo:visible')){\n        $('.logo img', $(\".feature_image .header\")).attr('src', $('.logo img').data('src-home'));\n      } else {\n        $('.logo img').attr('src', $('.logo img').data('src'));\n      }\n    //Mobile menu\n    } else {\n      if ($('#header').hasClass('mobile_nav-fixed--true')) {\n        $('body').addClass('mobile_nav-fixed--true');\n        $('body').removeClass('mobile_nav-fixed--false');\n\n        //offset scroll position\n        $('body').on('click', '.banner a[href^=\"#\"]', function(e) {\n            e.preventDefault();\n            var anchorLink = $(this).attr('href');\n            var headerHeight = $('#header').outerHeight();\n            $('html, body').animate({\n              scrollTop: $(anchorLink).offset().top - headerHeight\n            }, 2000);\n        });\n      } else {\n        $('body').removeClass('mobile_nav-fixed--true');\n        $('body').addClass('mobile_nav-fixed--false');\n      }\n    }\n\n    // Avoid cart_content duplicating for mobile screen sizes\n    if ($('#header .cart_content').length < 1) {\n      $('#header .cart-container').append($('.header .cart_content').clone());\n    }\n\n    let closeTimer = null;\n\n    // Toggle mini-cart with menu icon\n    if (window.PXUTheme.theme_settings.cart_action !== 'redirect_cart') {\n      $('.mini_cart').on('click ', function () {\n        const $cartContainer = $(this).parent();\n        if ($cartContainer.hasClass('active_link')) {\n          closeMiniCart();\n        } else {\n          openMiniCart($cartContainer);\n        }\n      });\n\n      $('.cart-container').on('mouseenter', function () {\n        const $cartContainer = $(this);\n        clearTimeout(closeTimer);\n        openMiniCart($cartContainer);\n      });\n\n      $('.cart-container').on('mouseleave', () => {\n        closeTimer = setTimeout(() => closeMiniCart(), 400);\n      });\n    }\n\n    $('.cart_content__continue-shopping').on('click', () => {\n      closeMiniCart();\n    });\n  },\n  unload() {\n    if (window.sticky_nav) {\n      window.sticky_nav.destroy();\n    }\n    window.navigationDesktopManager.unload();\n    window.mobileMenuDrawer.unload();\n    $('body').off('click', '.mobile_nav');\n    $('html').off('click');\n    $('.cart-container').off('mouseenter');\n    $('.cart-container').off('mouseleave');\n    $('.mini_cart').off('click');\n    $('.cart_content__continue-shopping').off('click');\n    $('body').off('click', '.banner a[href^=\"#\"]');\n    $('.main-nav__wrapper.sticky_nav').remove();\n  }\n}\n\nclass Meganav {\n  constructor(el, options = {}) {\n    this.options = {\n      getTargets: () => [],\n      afterChange: () => {},\n      ...options,\n    };\n\n    this.content = el;\n    this.targetHandle = this.content.dataset.meganavHandle;\n    this.targets = this.options.getTargets({ handle: this.targetHandle });\n    this.newMenuItems = [];\n\n    if (!this.targets.length) return;\n\n    this.refTarget = this.targets[0];\n    this.title = this.refTarget.querySelector('[data-nav-title]').innerHTML;\n    this.url = this._getUrl(this.refTarget);\n\n    this.nav = this.refTarget.closest('[data-nav]');\n    this.menuItemTemplate = this.nav.querySelector('[data-nav-parent-template]');\n    this.inject();\n  }\n\n  inject() {\n    if (!this.targets.length) return;\n\n    this._removeInjectedContent();\n\n    const newMenuItem = this.menuItemTemplate.content.firstElementChild.cloneNode(true);\n\n    newMenuItem.querySelector('[data-meganav-target-container]').appendChild(this.content.cloneNode(true));\n    newMenuItem.querySelector('[data-nav-title]').innerHTML = this.title;\n    this._updateHref(newMenuItem, this.url);\n\n    this.newMenuItems = Array.prototype.map.call(this.targets, target => {\n      const newItem = newMenuItem.cloneNode(true);\n      target.replaceWith(newItem);\n      return newItem;\n    });\n    this.options.afterChange();\n  }\n\n  unload() {\n    this._removeInjectedContent();\n    this.options.afterChange();\n  }\n\n  _updateHref(target, url) {\n    const dataHrefEl = target.querySelector('[data-href]');\n\n    if (dataHrefEl) {\n      dataHrefEl.dataset.href = url;\n      return;\n    }\n\n    const a = target.querySelector('a');\n\n    if (a) {\n      a.href = url;\n      return;\n    }\n  }\n\n  _getUrl(target) {\n    const dataHrefEl = target.querySelector('[data-href]');\n\n    if (dataHrefEl) {\n      return dataHrefEl.dataset.href;\n    }\n\n    const a = target.querySelector('a');\n\n    // If there's a `href=\"#\"`, `a.href` will return the resolved URL, which includes the page URL\n    // and the `#` fragment, so we'll use `getAttribute()` here.\n    // This is used for handling the click events on the mobile menu accordions.\n    if (a) {\n      return a.getAttribute('href');\n    }\n\n    return '';\n  }\n\n  _removeInjectedContent() {\n    this.newMenuItems.forEach((menuItem, i) => {\n      menuItem.replaceWith(this.targets[i]);\n    });\n\n    this.newMenuItems = [];\n  }\n}\n\nclass MeganavManager {\n  constructor() {\n    this.meganavs = new Map();\n  }\n\n  select(el) {\n    if (!this.meganavs.get(el)) return;\n    const { desktop } = this.meganavs.get(el);\n    desktop.newMenuItems.forEach(menuItem => {\n      window.navigationDesktopManager.onMeganavSelect(menuItem);\n    })\n  }\n\n  deselect() {\n    window.navigationDesktopManager.onMeganavDeselect();\n  }\n\n  add(el) {\n    if (!el.querySelector('[data-meganav-mobile]') || !el.querySelector('[data-meganav-desktop]')) return;\n    this.meganavs.set(el,\n      {\n        mobile: new Meganav(\n          el.querySelector('[data-meganav-mobile]'),\n          {\n            getTargets: ({ handle }) => document.querySelectorAll(`[data-meganav-mobile-target=\"${handle}\"]`),\n          }\n        ),\n        desktop: new Meganav(\n          el.querySelector('[data-meganav-desktop]'),\n          {\n            getTargets: ({ handle }) => document.querySelectorAll(`[data-meganav-desktop-target=\"${handle}\"]`),\n            afterChange: () => window.navigationDesktopManager.initAll(),\n          }\n        ),\n    });\n  }\n\n  remove(el) {\n    const meganav = this.meganavs.get(el);\n    if (meganav) {\n      meganav.mobile.unload();\n      meganav.desktop.unload();\n      this.meganavs.delete(el);\n    }\n  }\n\n  injectAll() {\n    this.unload();\n\n    this._addAll();\n\n    for (const [el, meganav] of this.meganavs) {\n      meganav.mobile.inject();\n      meganav.desktop.inject();\n    }\n  }\n\n  unload() {\n    for (const [el, meganav] of this.meganavs) {\n      meganav.mobile.unload();\n      meganav.desktop.unload();\n    }\n    this.meganavs.clear();\n  }\n\n  _addAll() {\n    document\n      .querySelectorAll('.shopify-section--mega-menu')\n      .forEach(meganavEl => {\n        if (this.meganavs.has(meganavEl)) return;\n\n        this.add(meganavEl);\n      });\n  }\n}\n\nwindow.meganavManager = new MeganavManager();\n\n/*============================================================================\n  Map\n==============================================================================*/\nwindow.map = {\n  init() {\n    if ($('.lazymap').length > 0) {\n      lazyframe('.lazymap');\n    }\n\n    if ($('.maps').hasClass('js-api-map')) {\n      const mapsToLoad = [];\n      // Create map settings array\n      $('.map').each(function (i) {\n        mapsToLoad.push(this);\n        mapsToLoad[i].sectionid = $(this).data('id');\n        mapsToLoad[i].address = $(this).data('address');\n        mapsToLoad[i].directions = $(this).data('directions-address');\n        mapsToLoad[i].zoom = $(this).data('zoom');\n        mapsToLoad[i].mapstyle = $(this).data('style');\n        mapsToLoad[i].showpin = $(this).data('pin');\n        mapsToLoad[i].apikey = $(this).data('api-key');\n      });\n      $.each(mapsToLoad, i => {\n        // Enable caching to avoid duplicate google maps files\n        $.ajaxSetup({ cache: true });\n        // Load maps script and find location coordinates\n        $.getScript(\n          `https://maps.googleapis.com/maps/api/js?key=${mapsToLoad[i].apikey}`,\n        ).then(() => {\n          window.map.findLocation(mapsToLoad[i]);\n          $.ajaxSetup({ cache: false });\n        });\n      });\n    }\n  },\n  findLocation(mapArray) {\n    let geoLat;\n    let geoLng;\n    const geocoder = new google.maps.Geocoder();\n    // Find and set coordinates\n    geocoder.geocode({ address: mapArray.dataset.address }, (results, status) => {\n      if (status === google.maps.GeocoderStatus.OK) {\n        geoLat = results[0].geometry.location.lat();\n        geoLng = results[0].geometry.location.lng();\n        // Create map\n        window.map.initMap(geoLat, geoLng, mapArray);\n      } else {\n        console.log(`Error:${status}`);\n      }\n    });\n  },\n  initMap(lat, lng, mapArray) {\n    const location = { lat, lng };\n    let styleJson = [];\n    // Set style JSON\n    if (mapArray.mapstyle === 'aubergine') {\n      styleJson = [{ elementType: 'geometry', stylers: [{ color: '#1d2c4d' }] }, { elementType: 'labels.text.fill', stylers: [{ color: '#8ec3b9' }] }, { elementType: 'labels.text.stroke', stylers: [{ color: '#1a3646' }] }, { featureType: 'administrative.country', elementType: 'geometry.stroke', stylers: [{ color: '#4b6878' }] }, { featureType: 'administrative.land_parcel', elementType: 'labels.text.fill', stylers: [{ color: '#64779e' }] }, { featureType: 'administrative.province', elementType: 'geometry.stroke', stylers: [{ color: '#4b6878' }] }, { featureType: 'landscape.man_made', elementType: 'geometry.stroke', stylers: [{ color: '#334e87' }] }, { featureType: 'landscape.natural', elementType: 'geometry', stylers: [{ color: '#023e58' }] }, { featureType: 'poi', elementType: 'geometry', stylers: [{ color: '#283d6a' }] }, { featureType: 'poi', elementType: 'labels.text.fill', stylers: [{ color: '#6f9ba5' }] }, { featureType: 'poi', elementType: 'labels.text.stroke', stylers: [{ color: '#1d2c4d' }] }, { featureType: 'poi.park', elementType: 'geometry.fill', stylers: [{ color: '#023e58' }] }, { featureType: 'poi.park', elementType: 'labels.text.fill', stylers: [{ color: '#3C7680' }] }, { featureType: 'road', elementType: 'geometry', stylers: [{ color: '#304a7d' }] }, { featureType: 'road', elementType: 'labels.text.fill', stylers: [{ color: '#98a5be' }] }, { featureType: 'road', elementType: 'labels.text.stroke', stylers: [{ color: '#1d2c4d' }] }, { featureType: 'road.highway', elementType: 'geometry', stylers: [{ color: '#2c6675' }] }, { featureType: 'road.highway', elementType: 'geometry.stroke', stylers: [{ color: '#255763' }] }, { featureType: 'road.highway', elementType: 'labels.text.fill', stylers: [{ color: '#b0d5ce' }] }, { featureType: 'road.highway', elementType: 'labels.text.stroke', stylers: [{ color: '#023e58' }] }, { featureType: 'transit', elementType: 'labels.text.fill', stylers: [{ color: '#98a5be' }] }, { featureType: 'transit', elementType: 'labels.text.stroke', stylers: [{ color: '#1d2c4d' }] }, { featureType: 'transit.line', elementType: 'geometry.fill', stylers: [{ color: '#283d6a' }] }, { featureType: 'transit.station', elementType: 'geometry', stylers: [{ color: '#3a4762' }] }, { featureType: 'water', elementType: 'geometry', stylers: [{ color: '#0e1626' }] }, { featureType: 'water', elementType: 'labels.text.fill', stylers: [{ color: '#4e6d70' }] }];\n    } else if (mapArray.mapstyle === 'retro') {\n      styleJson = [{ elementType: 'geometry', stylers: [{ color: '#ebe3cd' }] }, { elementType: 'labels.text.fill', stylers: [{ color: '#523735' }] }, { elementType: 'labels.text.stroke', stylers: [{ color: '#f5f1e6' }] }, { featureType: 'administrative', elementType: 'geometry.stroke', stylers: [{ color: '#c9b2a6' }] }, { featureType: 'administrative.land_parcel', elementType: 'geometry.stroke', stylers: [{ color: '#dcd2be' }] }, { featureType: 'administrative.land_parcel', elementType: 'labels.text.fill', stylers: [{ color: '#ae9e90' }] }, { featureType: 'landscape.natural', elementType: 'geometry', stylers: [{ color: '#dfd2ae' }] }, { featureType: 'poi', elementType: 'geometry', stylers: [{ color: '#dfd2ae' }] }, { featureType: 'poi', elementType: 'labels.text.fill', stylers: [{ color: '#93817c' }] }, { featureType: 'poi.park', elementType: 'geometry.fill', stylers: [{ color: '#a5b076' }] }, { featureType: 'poi.park', elementType: 'labels.text.fill', stylers: [{ color: '#447530' }] }, { featureType: 'road', elementType: 'geometry', stylers: [{ color: '#f5f1e6' }] }, { featureType: 'road.arterial', elementType: 'geometry', stylers: [{ color: '#fdfcf8' }] }, { featureType: 'road.highway', elementType: 'geometry', stylers: [{ color: '#f8c967' }] }, { featureType: 'road.highway', elementType: 'geometry.stroke', stylers: [{ color: '#e9bc62' }] }, { featureType: 'road.highway.controlled_access', elementType: 'geometry', stylers: [{ color: '#e98d58' }] }, { featureType: 'road.highway.controlled_access', elementType: 'geometry.stroke', stylers: [{ color: '#db8555' }] }, { featureType: 'road.local', elementType: 'labels.text.fill', stylers: [{ color: '#806b63' }] }, { featureType: 'transit.line', elementType: 'geometry', stylers: [{ color: '#dfd2ae' }] }, { featureType: 'transit.line', elementType: 'labels.text.fill', stylers: [{ color: '#8f7d77' }] }, { featureType: 'transit.line', elementType: 'labels.text.stroke', stylers: [{ color: '#ebe3cd' }] }, { featureType: 'transit.station', elementType: 'geometry', stylers: [{ color: '#dfd2ae' }] }, { featureType: 'water', elementType: 'geometry.fill', stylers: [{ color: '#b9d3c2' }] }, { featureType: 'water', elementType: 'labels.text.fill', stylers: [{ color: '#92998d' }] }];\n    } else if (mapArray.mapstyle === 'silver') {\n      styleJson = [{ elementType: 'geometry', stylers: [{ color: '#f5f5f5' }] }, { elementType: 'labels.icon', stylers: [{ visibility: 'off' }] }, { elementType: 'labels.text.fill', stylers: [{ color: '#616161' }] }, { elementType: 'labels.text.stroke', stylers: [{ color: '#f5f5f5' }] }, { featureType: 'administrative.land_parcel', elementType: 'labels.text.fill', stylers: [{ color: '#bdbdbd' }] }, { featureType: 'poi', elementType: 'geometry', stylers: [{ color: '#eeeeee' }] }, { featureType: 'poi', elementType: 'labels.text.fill', stylers: [{ color: '#757575' }] }, { featureType: 'poi.park', elementType: 'geometry', stylers: [{ color: '#e5e5e5' }] }, { featureType: 'poi.park', elementType: 'labels.text.fill', stylers: [{ color: '#9e9e9e' }] }, { featureType: 'road', elementType: 'geometry', stylers: [{ color: '#ffffff' }] }, { featureType: 'road.arterial', elementType: 'labels.text.fill', stylers: [{ color: '#757575' }] }, { featureType: 'road.highway', elementType: 'geometry', stylers: [{ color: '#dadada' }] }, { featureType: 'road.highway', elementType: 'labels.text.fill', stylers: [{ color: '#616161' }] }, { featureType: 'road.local', elementType: 'labels.text.fill', stylers: [{ color: '#9e9e9e' }] }, { featureType: 'transit.line', elementType: 'geometry', stylers: [{ color: '#e5e5e5' }] }, { featureType: 'transit.station', elementType: 'geometry', stylers: [{ color: '#eeeeee' }] }, { featureType: 'water', elementType: 'geometry', stylers: [{ color: '#c9c9c9' }] }, { featureType: 'water', elementType: 'labels.text.fill', stylers: [{ color: '#9e9e9e' }] }];\n    } else if (mapArray.mapstyle === 'night') {\n      styleJson = [{ elementType: 'geometry', stylers: [{ color: '#242f3e' }] }, { elementType: 'labels.text.fill', stylers: [{ color: '#746855' }] }, { elementType: 'labels.text.stroke', stylers: [{ color: '#242f3e' }] }, { featureType: 'administrative.locality', elementType: 'labels.text.fill', stylers: [{ color: '#d59563' }] }, { featureType: 'poi', elementType: 'labels.text.fill', stylers: [{ color: '#d59563' }] }, { featureType: 'poi.park', elementType: 'geometry', stylers: [{ color: '#263c3f' }] }, { featureType: 'poi.park', elementType: 'labels.text.fill', stylers: [{ color: '#6b9a76' }] }, { featureType: 'road', elementType: 'geometry', stylers: [{ color: '#38414e' }] }, { featureType: 'road', elementType: 'geometry.stroke', stylers: [{ color: '#212a37' }] }, { featureType: 'road', elementType: 'labels.text.fill', stylers: [{ color: '#9ca5b3' }] }, { featureType: 'road.highway', elementType: 'geometry', stylers: [{ color: '#746855' }] }, { featureType: 'road.highway', elementType: 'geometry.stroke', stylers: [{ color: '#1f2835' }] }, { featureType: 'road.highway', elementType: 'labels.text.fill', stylers: [{ color: '#f3d19c' }] }, { featureType: 'transit', elementType: 'geometry', stylers: [{ color: '#2f3948' }] }, { featureType: 'transit.station', elementType: 'labels.text.fill', stylers: [{ color: '#d59563' }] }, { featureType: 'water', elementType: 'geometry', stylers: [{ color: '#17263c' }] }, { featureType: 'water', elementType: 'labels.text.fill', stylers: [{ color: '#515c6d' }] }, { featureType: 'water', elementType: 'labels.text.stroke', stylers: [{ color: '#17263c' }] }];\n    } else { styleJson = []; }\n    // Create google maps link\n    $('.js-map-link').attr(\n      'href',\n      `https://www.google.com/maps/place/${\n        mapArray.directions\n      }/@${\n        lat\n      },${\n        lng}`,\n    );\n    // Set map options\n    const mapOptions = {\n      zoom: mapArray.zoom,\n      center: location,\n      styles: styleJson,\n      disableDefaultUI: false,\n    };\n    // Create map\n    const map = new google.maps.Map(\n      document.getElementById(mapArray.sectionid),\n      mapOptions,\n    );\n    // Show pin\n    if (mapArray.showpin === true) {\n      const marker = new google.maps.Marker({\n        position: location,\n        map,\n      });\n    }\n  }\n}\n\n\n/*============================================================================\n  Shoppable Image\n==============================================================================*/\nwindow.shoppableImage = {\n  init() {\n    $('[data-shoppable-image-wrapper]').each((_, wrapper) => {\n      const blocks = wrapper.querySelectorAll('[data-shoppable-image-block]');\n      let currentImage = wrapper.querySelector('[data-shoppable-image]');\n\n      // Only initialize slider if there is more than one shoppable image block added\n      if (blocks.length > 1) {\n        // sliderBlock utility function requires Flickity to be initialized with jQuery\n        const $wrapper = $(wrapper);\n        const settings = {\n          slideshowSpeed: $wrapper.data('slideshow-speed') * 1000,\n          slideshowTextAnimation: $wrapper.data('slideshow-text-animation'),\n          slideshowTransition: $wrapper.data('slideshow-transition'),\n        };\n\n        if (!$wrapper.hasClass('flickity-enabled')) {\n          $wrapper.flickity({\n            wrapAround: true,\n            cellAlign: 'left',\n            imagesLoaded: true,\n            prevNextButtons: true,\n            draggable: true,\n            arrowShape: window.arrowSize,\n            pageDots: true,\n            autoPlay: settings.slideshowSpeed,\n            adaptiveHeight: true,\n          });\n\n          /*\n            Move Flickity prev-next buttons to inside the shoppable image so\n            that the buttons don't stretch beyond the shoppable image.\n            We'll do this once on page load and then every time slides are changed.\n          */\n          if (wrapper.querySelector('.shoppable-image__bottom-bar')) {\n            const prevNextBtns = wrapper.querySelectorAll('.flickity-prev-next-button');\n            const currentImage = window.Flickity.data($wrapper[0]).selectedElement;\n            const currentShoppableImage = currentImage.querySelector('[data-shoppable-image]');\n            prevNextBtns.forEach(btn => $(btn).appendTo(currentShoppableImage));\n            $wrapper.on('change.flickity', () => {\n              const currentImage = window.Flickity.data($wrapper[0]).selectedElement;\n              const currentShoppableImage = currentImage.querySelector('[data-shoppable-image]');\n              prevNextBtns.forEach(btn => $(btn).appendTo(currentShoppableImage));\n            });\n          }\n\n          if (settings.slideshowTextAnimation !== '') {\n            const flkty = $wrapper.data('flickity');\n            setTimeout(() => {\n              $wrapper.find('.gallery-cell:nth-child(1) [data-slideshow-caption-text]').addClass(`animated ${settings.slideshowTextAnimation}`);\n            }, 400);\n\n            $wrapper.on('select.flickity', () => {\n              if ($wrapper.is(':visible')) {\n                const currentSlide = flkty.selectedIndex + 1;\n                setTimeout(() => {\n                  $wrapper.find('[data-slideshow-caption-text]').removeClass(`animated ${settings.slideshowTextAnimation}`);\n                  $wrapper.find(`.gallery-cell:nth-child(${currentSlide}) [data-slideshow-caption-text]`).addClass(`animated ${settings.slideshowTextAnimation}`);\n                }, 400);\n              }\n            });\n          }\n\n          /*\n            When using the slide transition, Flickity updates the positioning of its slides\n            which can affect the positioning of the product cards on slide change.\n            For fade transition we can just update the position once on page load.\n            For slide transition we will update the position for the first slide on page load\n            and when changing slides.\n          */\n\n          if (window.PXUTheme.media_queries.medium.matches && settings.slideshowTransition !== 'fade') {\n            const flkty = $wrapper.data('flickity');\n            const currentSlide = flkty.selectedIndex + 1;\n            const $hotspotEls = $wrapper.find(`.gallery-cell:nth-child(${currentSlide}) [data-hotspot]`);\n            $hotspotEls.each((_, hotspot) => {\n              this.repositionHotspotContent(hotspot);\n            })\n\n            $wrapper.on('settle.flickity', () => {\n              const currentSlide = flkty.selectedIndex + 1;\n              const $hotspotEls = $wrapper.find(`.gallery-cell:nth-child(${currentSlide}) [data-hotspot]`);\n\n              $hotspotEls.each((_, hotspot) => {\n                this.repositionHotspotContent(hotspot);\n              })\n            });\n          } else {\n            this.repositionHotspotContentEls(currentImage);\n          }\n\n          $wrapper.on('settle.flickity', () => {\n            currentImage = window.Flickity.data(wrapper).selectedElement;\n            this.repositionHotspotContentEls(currentImage);\n          });\n\n          // Add class to parent section so that sliderBlock utility is only called when slider enabled\n          const parentEl = wrapper.closest('.shopify-section--shoppable-image');\n          parentEl.classList.add('shopify-section--shoppable-image--slider-enabled');\n        }\n      } else {\n        this.repositionHotspotContentEls(currentImage);\n      }\n\n      const interactiveEls = wrapper.querySelectorAll('[data-interactive-element]');\n\n      /*\n        Adds active state to hotspot and thumbnails\n        When a hotspot is in focus, its linked thumbnail will also become active\n        When a thumbnail is in focus, its linked hotspot will also become active\n      */\n\n      document.body.addEventListener('click', (e) => {\n        const clickedInteractiveEl = e.target.closest('[data-interactive-element]');\n\n        interactiveEls.forEach((el, index) => {\n          const block = el.closest('[data-shoppable-image-block]');\n          if (clickedInteractiveEl && el.dataset.hotspotId === clickedInteractiveEl.dataset.hotspotId) {\n            block.classList.add(el.dataset.hotspotId, `hotspot--${index + 1}`);\n            el.classList.add('has-active-state');\n          } else {\n            block.classList.remove(el.dataset.hotspotId, `hotspot--${index + 1}`);\n            el.classList.remove('has-active-state');\n          }\n        })\n      });\n\n      // Reposition hotspots' content when window is resized.\n      window.addEventListener('resize', this.debounce(() => {\n        this.repositionHotspotContentEls(currentImage);\n      }));\n    });\n  },\n  // Adjust content wrapper if it is outside of the viewport or shoppable image\n  repositionHotspotContent(hotspot) {\n    const contentWrapperEl = hotspot.querySelector('[data-content-wrapper]');\n    const contentEl = contentWrapperEl.querySelector('[data-content]');\n    const shoppableImage = hotspot.closest('[data-shoppable-image]');\n\n    // Reset styles\n    contentWrapperEl.style.transform = '';\n    contentWrapperEl.style.top = '';\n    contentWrapperEl.style.bottom = '';\n\n    const contentBounds = contentEl.getBoundingClientRect();\n    const shoppableImageBounds = shoppableImage.getBoundingClientRect();\n\n    const cssTop = window.getComputedStyle(contentWrapperEl).getPropertyValue('padding');\n\n    /*\n      Prevent the hotspot content from going outside of the main shoppable image\n      when the hotspot is placed too close to the top.\n    */\n    if (contentBounds.top < shoppableImageBounds.top && !window.PXUTheme.media_queries.mobile_and_tablet.matches) {\n      contentWrapperEl.style.top = `-${cssTop}`;\n    }\n\n    /*\n      Prevent the hotspot content from going outside of the main shoppable image\n      when the hotspot is placed too close to the bottom.\n    */\n    if (contentBounds.bottom > shoppableImageBounds.bottom && !window.PXUTheme.media_queries.mobile_and_tablet.matches) {\n      contentWrapperEl.style.bottom = `-${cssTop}`;\n    }\n\n    /*\n      Prevent the hotspot content from going outside of the main shoppable image\n      when the hotspot is placed too close to the right.\n    */\n    if (contentBounds.right > shoppableImageBounds.width) {\n      contentWrapperEl.style.transform = 'translateX(-100%)';\n    }\n\n    /*\n      Prevent the hotspot content from going outside of the main shoppable image\n      when the hotspot is placed too close to the left.\n    */\n    if (contentBounds.left < 0) {\n      contentWrapperEl.style.transform = 'translateX(0)';\n    }\n  },\n  repositionHotspotContentEls(currentSlide) {\n    const hotspotEls = currentSlide.querySelectorAll('[data-hotspot]');\n    hotspotEls.forEach(hotspot => this.repositionHotspotContent(hotspot));\n  },\n  debounce(callback, timeout = 500) {\n    let timeoutId = null;\n    return (...args) => {\n      clearTimeout(timeoutId);\n      timeoutId = setTimeout(() => {\n        callback.apply(null, args);\n      }, timeout);\n    };\n  },\n  unload($target) {\n    const $slider = $target.find('[data-shoppable-image-wrapper]');\n    if ($slider.hasClass('flickity-enabled')) {\n      $slider.flickity('destroy');\n    }\n  }\n}\n/*============================================================================\n  Global accordions\n==============================================================================*/\nwindow.accordion = {\n  init() {\n    let flg = 0;\n    const $vanillaAccordion = $('.accordion');\n    const $faqHeading = $('.faqAccordion > dt > button, .accordion > dt > a');\n    $('.faqAccordion > dd, .accordion > dd').attr('aria-hidden', true);\n\n    $faqHeading.attr('aria-expanded', false);\n\n    $faqHeading.on('click activate', function () {\n      if (flg) return false;\n      flg = 1;\n      const state = $(this).attr('aria-expanded') === 'false' ? true : false;\n      $(this).attr('aria-expanded', state);\n      $(this).parent().next().slideToggle(() => {\n        flg = 0;\n      });\n      $(this).parent().next().attr('aria-hidden', !state);\n      return false;\n    });\n    $faqHeading.on('keydown', function (event) {\n      const keyCode = event.keyCode || event.which;\n      if (keyCode === 13) {\n        $(this).trigger('activate');\n      }\n    });\n\n    $vanillaAccordion.each((_, accordion) => {\n      const $accordion = $(accordion);\n      if ($accordion.data('state') === 'open') {\n        $accordion.find($faqHeading[0]).parent().next().slideToggle();\n        $accordion.find($faqHeading[0]).attr('aria-expanded', true);\n      }\n    });\n  }\n}\n\n/*============================================================================\n  Global shortcodes\n==============================================================================*/\nclass ProductCTA extends HTMLElement {\n  static get shortcode() {\n    return 'product-cta';\n  }\n\n  constructor() {\n    // Always call super first in constructor\n    super();\n\n    // Create a shadow root\n    this.attachShadow({ mode: 'open' }); // sets and returns 'this.shadowRoot'\n    this.events = [];\n\n    const forAttr = this.getAttribute('for');\n    const variants = forAttr ? document.querySelector(`#${forAttr} [data-variants]`) : null;\n    const variantId = this.getAttribute('variantid');\n    const appendto = document.querySelector(this.getAttribute('appendto'));\n\n    if (!variants || !variantId) {\n      this._setVisible(false);\n      return;\n    }\n\n    if (appendto) {\n      appendto.appendChild(this);\n    }\n\n    // Remove element from DOM and insert new element into position\n    this._registerEvent({ el: variants, event: 'change', listener: e => this._onVariantChange(e, variantId) });\n    this._setVisible(variants.value === this.variantId);\n  }\n\n  connectedCallback() {\n    const href = this.getAttribute('href') || '#';\n    const target = this.getAttribute('target');\n    const style = document.createElement('style');\n    const a = document.createElement('a');\n    const slot = document.createElement('slot');\n\n    style.innerHTML = `\n      a {\n        color: inherit;\n        cursor; inherit;\n        text-decoration: inherit;\n      }\n    `;\n\n    a.href = href;\n    a.target = target;\n    a.appendChild(slot);\n\n    if (target === '_blank') {\n      const icon = document.createElement('span');\n      icon.classList.add('button-icon');\n      icon.setAttribute('aria-label', '(New window)');\n      icon.innerHTML = '<svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8.81792 2.29812L5.68732 5.42884L6.57121 6.3127L9.70198 3.18183L9.70227 5.51933L10.9523 5.51917L10.9518 1.67302L10.9517 1.0481L10.3268 1.0481L6.48062 1.04815L6.48064 2.29815L8.81792 2.29812ZM1.67297 1.04817H1.04797V1.67317V10.327V10.952H1.67297H10.3268H10.9518V10.327V8.13026H9.70175V9.70195H2.29797V2.29817H3.83642V1.04817H1.67297Z\" fill=\"currentColor\"/></svg>';\n\n      // attach the created elements to the shadow DOM\n      a.appendChild(icon);\n    }\n\n    this.shadowRoot.append(style, a);\n  }\n\n  disconnectedCallback() {\n    this.events.forEach(({ el, event, listener }) => el.removeEventListener(event, listener));\n    this.shadowRoot.innerHTML = '';\n    this._setVisible(true);\n  }\n\n  _registerEvent({ el, event, listener }) {\n    this.events.push({ el, event, listener });\n\n    el.addEventListener(event, listener);\n\n    return { el, event, listener };\n  }\n\n  _setVisible(visible) {\n    this.toggleAttribute('hidden', !visible);\n  }\n\n  _onVariantChange(e, variantId) {\n    this._setVisible(e.currentTarget.value === variantId);\n  }\n}\n\ncustomElements.define(ProductCTA.shortcode, ProductCTA);\n"],"sourceRoot":""}